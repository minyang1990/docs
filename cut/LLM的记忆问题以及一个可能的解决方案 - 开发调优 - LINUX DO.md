# LLM的记忆问题以及一个可能的解决方案 - 开发调优 - LINUX DO
[LLM的记忆问题以及一个可能的解决方案 - 开发调优 - LINUX DO](https://linux.do/t/topic/584852) 

  LLM的记忆问题以及一个可能的解决方案 - 开发调优 - LINUX DO                                                

[跳到主要内容](#main-container)

 [![](https://cdn.ldstatic.com/original/3X/9/d/9dd49731091ce8656e94433a26a3ef36062b3994.png)](/) 

[LLM的记忆问题以及一个可能的解决方案](/t/topic/584852)


========================================

[开发调优](/c/develop/4)

[快问快答](/tag/快问快答)

,[人工智能](/tag/人工智能)

,[ChatGPT](/tag/chatgpt)

,[软件开发](/tag/软件开发)

*   ​
*   ​

*    ![](https://cdn.linux.do/letter_avatar/niyan2025/96/5_d44a9b381edc88181525e3c8350177ca.png)
       [ 2 ](# "2 个未读通知") 

*   [话题](/latest "所有话题")
*   [我的帖子](/u/niyan2025/activity/drafts "我的未发布草稿")
*   [关于](/about "关于此网站的更多详细信息")
*   [即将到来的活动](/upcoming-events "即将到来的活动")
*   更多

外部链接

*   [Status](https://status.linux.do)
*   [T-Shirt](https://item.taobao.com/item.htm?id=910907382401)
*   [Connect](https://connect.linux.do)
*   [Webmail](https://webmail.linux.do)
*   [Channel](https://t.me/linux_do_channel)
*   [Telegram](https://t.me/ja_netfilter_group)

类别

*   [开发调优](/c/develop/4 "此版块包含开发、测试、调试、部署、优化、安全等方面的内容")
*   [资源荟萃](/c/resource/14 "包括软件分享、开源仓库、视频课程、书籍等分享")
*   [文档共建](/c/wiki/42 "佬友化身翰林学士，一起来编书了。")
*   [跳蚤市场](/c/trade/10 "交易相关的版块，包含实体和虚拟物品供求、拼车等等")
*   [非我莫属](/c/job/27 "学成文武艺，货与帝王家。招聘/求职分类，只能发此类信息。")
*   [读书成诗](/c/reading/32 "跟着佬友们一起在论坛读完一本书是什么体验？")
*   [扬帆起航](/c/startup/46 "扬帆起航，目标是星辰大海！")
*   [前沿快讯](/c/news/34 "前沿快讯，不出门能知天下事。")
*   [网络记忆](/c/feeds/92 "网络是有记忆的，确信！")
*   [福利羊毛](/c/welfare/36 "正经人谁花那个钱啊～ 此版块供羊毛、抽奖等福利使用。")
*   [搞七捻三](/c/gossip/11 "闲聊吹水的板块。不得讨论政治、色情等违规内容。")
*   [运营反馈](/c/feedback/2 "有关此站点、其组织、运作方式以及如何改进的讨论。")
*   [深海幽域](/c/muted/45 "冰山下的深海。帖子不会上信息流、不会被论坛搜索。")
*   [所有类别](/categories)

标签

*   [人工智能](/tag/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD)
*   [公告](/tag/%E5%85%AC%E5%91%8A)
*   [快问快答](/tag/%E5%BF%AB%E9%97%AE%E5%BF%AB%E7%AD%94)
*   [抽奖](/tag/%E6%8A%BD%E5%A5%96)
*   [精华神帖](/tag/%E7%B2%BE%E5%8D%8E%E7%A5%9E%E5%B8%96)
*   [所有标签](/tags)

消息

*   [收件箱](/u/niyan2025/messages)

*   [我的消息串](/chat/threads "我的消息串")

频道

*   [常规频道](/chat/c/general/2 "🈲 禁止在聊天频道里发送 打卡 等无意义信息，被举报会喜提 禁言1小时 。")

直接消息

*    [![](https://cdn.linux.do/user_avatar/linux.do/huan/48/293194_2.png)  焕昭君](/chat/c/%E7%84%95%E6%98%AD%E5%90%9B/43057 "与 焕昭君 聊天") 
*    [![](https://cdn.linux.do/user_avatar/linux.do/xronus/48/130867_2.png)  Anivix](/chat/c/anivix/32458 "与 Anivix 聊天") 

聊天

Default

​ ​ ​

**真诚**、**友善**、**团结**、**专业**，共建你我引以为荣之社区。[《常见问题解答》](/faq)

[LLM的记忆问题以及一个可能的解决方案](/t/topic/584852)


========================================

[开发调优](/c/develop/4)

[快问快答](/tag/快问快答)

,[人工智能](/tag/人工智能)

,[ChatGPT](/tag/chatgpt)

,[软件开发](/tag/软件开发)

您已选择 **0** 个帖子。

全选

取消选择

348 浏览量 11 赞 3 链接 9 用户

 [![](https://cdn.linux.do/user_avatar/linux.do/pdjjq/96/208475_2.png)
 4](/u/pDJJq "pDJJq") 

 [![](https://cdn.linux.do/letter_avatar/admini/96/5_d44a9b381edc88181525e3c8350177ca.png)
 2](/u/admini "admini")

 [![](https://cdn.linux.do/user_avatar/linux.do/6512345/96/516797_2.png)](/u/6512345 "6512345") 

 [![](https://cdn.linux.do/user_avatar/linux.do/dfobainx/96/306867_2.png)](/u/DFobainx "DFobainx") 

 [![](https://cdn.linux.do/letter_avatar/r2do/96/5_d44a9b381edc88181525e3c8350177ca.png)](/u/R2do "R2do") 

​

[4月 21 日](/t/topic/584852/1 "跳到第一个帖子")

1 / 13

4月 22 日

[24 分钟](/t/topic/584852/13)

​

[![](https://cdn.linux.do/user_avatar/linux.do/pdjjq/96/208475_2.png)
](/u/pDJJq)

[djj](/u/pDJJq)

[pDJJq](/u/pDJJq)

[11 小时](/t/topic/584852?u=niyan2025 "发布日期")

cursor更新了0.49, 其中非常有意思的一点是开启project-structure, 将项目结构注入上下文.  
这种解决方案非常类似于前段时间, 我和朋友做的一个项目 [codelf](https://github.com/Disdjj/codelf)

解决方案都是注入项目结构. (感谢佬友们, 已经有100个star了)

然后这让我想到一个一个非常有意思的事情, 就像思维导图一样, 提供一棵树给LLM, 让他自己选择有价值的节点, 并且引入上下文.

某种意义上, 这就完成了简单的`记忆`, 尽管根本上还是依赖于上下文的实现, 但是能够极大程度的提高LLM的生成质量.

基于此, 人类可以做的事情就变成了定义这个树长什么样子, 或者描述这棵记忆树长什么样子.

而且, 配合mcp可以实现更加丰富的能力, 例如:  
更新某个记忆节点, 插入某个记忆节点.  
这种结构非常适合处理结构化的数据, 比如代码/文档/小说等等.

于是就有了以下几个项目:  
**4.22 开始开发, 仅开发了三个小时, 现在是完全不可用的状态! 仅用来展示思路**  
**4.22 开始开发, 仅开发了三个小时, 现在是完全不可用的状态! 仅用来展示思路**  
**4.22 开始开发, 仅开发了三个小时, 现在是完全不可用的状态! 仅用来展示思路**

[](#p-5325792-h-1)添加记忆:
-----------------------

[![](https://cdn.ldstatic.com/optimized/4X/5/4/6/546796b7d81b55ef8bf1e9bb73a1ddbcb5ca8207_2_690x272.png)

image2131×841 31.9 KB

](https://cdn.ldstatic.com/original/4X/5/4/6/546796b7d81b55ef8bf1e9bb73a1ddbcb5ca8207.png "image")

[](#p-5325792-h-2)获取记忆
----------------------

[![](https://cdn.ldstatic.com/optimized/4X/d/0/7/d075428392e142c293d33cddba849174f8f8659f_2_690x258.png)

image2129×798 33.1 KB

](https://cdn.ldstatic.com/original/4X/d/0/7/d075428392e142c293d33cddba849174f8f8659f.png "image")

模型记忆协议, 定义模型-记忆的标准交互协议: [GitHub - Disdjj/mmp: model memory protocol](https://github.com/Disdjj/mmp)

  
模型记忆服务, 基于pgsql/sqlite实现了暴露json-rpc服务: [GitHub - Disdjj/mmp-server: mmp-server](https://github.com/Disdjj/mmp-server)

  
模型记忆MCP, 基于MCP实现LLM主动和记忆进行交互, load context: [GitHub - Disdjj/mmp-mcp: mcp of mmp](https://github.com/Disdjj/mmp-mcp)

我觉得还是很有想象场景的:

1.  配合记忆模版, 完全可以实现codelf的同等功能, 甚至可以把任意结构化提示词转为记忆模版
2.  某种意义上, 通过路径/描述, 实现了记忆的压缩, 而且根据路径的层数不同, 完全可以实现不同等级的压缩.

再附上一张今天晚上, 设计mmp的脑图:  

[![](https://cdn.ldstatic.com/optimized/4X/5/0/f/50f4dfb58261c2ad95cd5aac4a517e9e355d7fff_2_489x500.png)

image1220×1246 106 KB

](https://cdn.ldstatic.com/original/4X/5/0/f/50f4dfb58261c2ad95cd5aac4a517e9e355d7fff.png "image")

以上是我的个人想法, 欢迎大家留言, 一起交流.

  

11

​ ​ 回复

348 浏览量 11 赞 3 链接 9 用户

 [![](https://cdn.linux.do/user_avatar/linux.do/pdjjq/96/208475_2.png)
 4](/u/pDJJq "pDJJq") 

 [![](https://cdn.linux.do/letter_avatar/admini/96/5_d44a9b381edc88181525e3c8350177ca.png)
 2](/u/admini "admini")

 [![](https://cdn.linux.do/user_avatar/linux.do/6512345/96/516797_2.png)](/u/6512345 "6512345") 

 [![](https://cdn.linux.do/user_avatar/linux.do/dfobainx/96/306867_2.png)](/u/DFobainx "DFobainx") 

 [![](https://cdn.linux.do/letter_avatar/r2do/96/5_d44a9b381edc88181525e3c8350177ca.png)](/u/R2do "R2do") 

[![](https://cdn.linux.do/user_avatar/linux.do/6512345/96/516797_2.png)
](/u/6512345)

[65](/u/6512345)

[6512345](/u/6512345)なんでも知ってる

[11 小时](/t/topic/584852/2?u=niyan2025 "发布日期")

有意思ww  
支持佬友w

  

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/dfobainx/96/306867_2.png)
](/u/DFobainx)

[DFobainx](/u/DFobainx)

رَیگولر

[11 小时](/t/topic/584852/3?u=niyan2025 "发布日期")

似曾相识 感觉有点类似server-memory 只不过它的方式是本地json

  

1 个回复

​ ​ 回复

[![](https://cdn.linux.do/letter_avatar/r2do/96/5_d44a9b381edc88181525e3c8350177ca.png)
](/u/R2do)

[R2do](/u/R2do)

活跃用户

[10 小时](/t/topic/584852/4?u=niyan2025 "发布日期")

关注中,已star

  

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/maolon/96/584557_2.png)
](/u/maolon)

[maolon](/u/maolon)

[10 小时](/t/topic/584852/5?u=niyan2025 "发布日期")

嗯 我觉得你可以参考openai新memory系统的实现，这两天本来准备水一贴他怎么实现的，一直没时间搞

  

2 个回复

​ ​ 回复

[![](https://cdn.linux.do/letter_avatar/admini/96/5_d44a9b381edc88181525e3c8350177ca.png)
](/u/admini)

[admini](/u/admini)

海纳百川

[6 小时](/t/topic/584852/6?u=niyan2025 "发布日期")

其实 codebase 也是用树图来自动获取项目结构的。

  

​ ​ 回复

[![](https://cdn.linux.do/letter_avatar/admini/96/5_d44a9b381edc88181525e3c8350177ca.png)
](/u/admini)

[admini](/u/admini)

海纳百川

 ![](https://cdn.linux.do/user_avatar/linux.do/maolon/48/584557_2.png)
 maolon

[5 小时](/t/topic/584852/7?u=niyan2025 "发布日期")

openAI 官方有说 memory 实现原理的详细信息吗？能给下相关链接吗？

  

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/aaaaa/96/493822_2.png)
](/u/AAAAA)

[太史公书](/u/AAAAA)

[AAAAA](/u/AAAAA) ![](https://cdn.linux.do/images/emoji/twemoji/100.png?v=14) 

[5 小时](/t/topic/584852/8?u=niyan2025 "发布日期")

_**不错不错**_

  

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/pdjjq/96/208475_2.png)
](/u/pDJJq)

[djj](/u/pDJJq)

[pDJJq](/u/pDJJq)

 ![](https://cdn.linux.do/user_avatar/linux.do/dfobainx/48/306867_2.png)
 DFobainx

[5 小时](/t/topic/584852/9?u=niyan2025 "发布日期")

感谢佬友, 刚刚看了下, 确实很类似.

一个是图, 一个是树.

过两天项目完善了, 可以再看下

  

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/pdjjq/96/208475_2.png)
](/u/pDJJq)

[djj](/u/pDJJq)

[pDJJq](/u/pDJJq)

 ![](https://cdn.linux.do/user_avatar/linux.do/maolon/48/584557_2.png)
 maolon

[5 小时](/t/topic/584852/10?u=niyan2025 "发布日期")

大佬细说, 这部分确实没有了解过.

  

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/f9g/96/599865_2.png)
](/u/f9g)

[f9g](/u/f9g)

[3 小时](/t/topic/584852/11?u=niyan2025 "发布日期")

不错，后续的添加，更新节点好理解，关键是最初的这棵树如何初始化？

  

1 个回复

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/pdjjq/96/208475_2.png)
](/u/pDJJq)

[djj](/u/pDJJq)

[pDJJq](/u/pDJJq)

 ![](https://cdn.linux.do/user_avatar/linux.do/f9g/48/599865_2.png)
 f9g

[1 小时](/t/topic/584852/12?u=niyan2025 "发布日期")

我现在是计划:

1.  记忆模版, 比如说代码项目/小说大纲剧情/人物对话等等
2.  prompt上做一些操作

  

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/wyh/96/25395_2.png)
](/u/wyh)

[未央花](/u/wyh)

[wyh](/u/wyh) ![](https://cdn.ldstatic.com/original/3X/2/1/21158038759f6a8630df8507f782a45a6caee004.png?v=14) 

[24 分钟](/t/topic/584852/13?u=niyan2025 "发布日期")

LLM 的出现记忆丢失的问题的大部分原因是不是 context window 的大小问题

结构化描述的确可以缓解一下，感觉听你描述还是算 RAG 的一种。

前面看的一篇文章：

[![](https://cdn.ldstatic.com/optimized/4X/c/6/7/c67c088f5995bb16f1305a9a3a869231e94b5f51_2_690x381.jpeg)

Obsidian 2025-04-22 14.23.251770×978 286 KB

](https://cdn.ldstatic.com/original/4X/c/6/7/c67c088f5995bb16f1305a9a3a869231e94b5f51.jpeg "Obsidian 2025-04-22 14.23.25")

  

​ ​ 回复

### 此话题将在最后一个回复的1 个月后关闭。

分享 加入书签 举报

回复

已取消置顶

​

此话题已对您取消置顶；它将以常规顺序显示

常规 您会在别人 @ 您或回复您时收到通知。

  

*   推荐
*   相关

### 新话题和未读话题

话题列表，带有按钮的列标题可以排序。
| 话题 | 回复 | 浏览量 | 活动 |
| --- | --- | --- | --- |
| [分享一个我的翻译提示词，配合沉浸式翻译爽的飞起！(03-29提示词更新,专有名词兼容)](/t/topic/515672/73)

 [182](/t/topic/515672/73 "您在此话题中有 182 个未读帖子")

[开发调优](/c/develop/4)

[人工智能](/tag/人工智能)





 | [251](/t/topic/515672/1) | 6.8k | [1 小时](/t/topic/515672/254) |
| [比Cursor更强的Augment是如何给大模型提供上下文的？](/t/topic/508302/5)

 [18](/t/topic/508302/5 "您在此话题中有 18 个未读帖子")

[开发调优](/c/develop/4)

[人工智能](/tag/人工智能)





 | [21](/t/topic/508302/1) | 2.4k | [3 小时](/t/topic/508302/22) |
| [用免费的 Gemini 模型实现 Deep Research，不限量、超大杯，感谢 Google 大善人](/t/topic/491988/489)

 [31](/t/topic/491988/489 "您在此话题中有 31 个未读帖子")

[开发调优](/c/develop/4)

[人工智能](/tag/人工智能)

,[Gemini](/tag/gemini)





 | [515](/t/topic/491988/1) | 19.5k | [3 天](/t/topic/491988/519) |
| [求一个稳定的Gemini Pro 2.5站](/t/topic/571112/11)

 [3](/t/topic/571112/11 "您在此话题中有 3 个未读帖子")

[开发调优](/c/develop/4)

[人工智能](/tag/人工智能)





 | [12](/t/topic/571112/1) | 562 | [4 天](/t/topic/571112/13) |
| [Cursor最新白嫖方案咨询(25-4-14)](/t/topic/558350/35)

 [2](/t/topic/558350/35 "您在此话题中有 2 个未读帖子")

[开发调优](/c/develop/4)

[人工智能](/tag/人工智能)

,[Cursor](/tag/cursor)





 | [35](/t/topic/558350/1) | 1.8k | [5 天](/t/topic/558350/36) |

### 有 [49 个未读](/unread)

话题 和 [112 个新](/new)

话题， 或浏览[开发调优](/c/develop/4)

中的其他话题

Invalid date Invalid date

Settings
========

🏷️ UTags - Add usertags to links

Other Extensions
----------------

[🔗 Links Helper](https://greasyfork.org/en/scripts/464541-links-helper)

[V2EX.REP - 专注提升 V2EX 主题回复浏览体验](https://greasyfork.org/en/scripts/466589-v2ex-rep-%E4%B8%93%E6%B3%A8%E6%8F%90%E5%8D%87-v2ex-%E4%B8%BB%E9%A2%98%E5%9B%9E%E5%A4%8D%E6%B5%8F%E8%A7%88%E4%BD%93%E9%AA%8C)

[v2ex.min - V2EX Minimalist (极简风格)](https://greasyfork.org/en/scripts/463552-v2ex-min-v2ex-%E6%9E%81%E7%AE%80%E9%A3%8E%E6%A0%BC)

[Replace Ugly Avatars](https://greasyfork.org/en/scripts/472616-replace-ugly-avatars)

↑↓⇔⇧⇩