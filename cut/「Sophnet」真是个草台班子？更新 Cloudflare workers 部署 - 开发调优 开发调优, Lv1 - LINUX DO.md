# ã€ŒSophnetã€çœŸæ˜¯ä¸ªè‰å°ç­å­ï¼Ÿæ›´æ–° Cloudflare workers éƒ¨ç½² - å¼€å‘è°ƒä¼˜ / å¼€å‘è°ƒä¼˜, Lv1 - LINUX DO
[ã€ŒSophnetã€çœŸæ˜¯ä¸ªè‰å°ç­å­ï¼Ÿæ›´æ–° Cloudflare workers éƒ¨ç½² - å¼€å‘è°ƒä¼˜ / å¼€å‘è°ƒä¼˜, Lv1 - LINUX DO](https://linux.do/t/topic/557480) 

  ã€ŒSophnetã€çœŸæ˜¯ä¸ªè‰å°ç­å­ï¼Ÿæ›´æ–° Cloudflare workers éƒ¨ç½² - å¼€å‘è°ƒä¼˜ / å¼€å‘è°ƒä¼˜, Lv1 - LINUX DO                                                

[è·³åˆ°ä¸»è¦å†…å®¹](#main-container)

 [![](https://cdn.ldstatic.com/original/3X/9/d/9dd49731091ce8656e94433a26a3ef36062b3994.png)](/) 

[ã€ŒSophnetã€çœŸæ˜¯ä¸ªè‰å°ç­å­ï¼Ÿæ›´æ–° Cloudflare workers éƒ¨ç½²](/t/topic/557480)
============================================================

[å¼€å‘è°ƒä¼˜](/c/develop/4) [å¼€å‘è°ƒä¼˜, Lv1](/c/develop/develop-lv1/20)

[äººå·¥æ™ºèƒ½](/tag/äººå·¥æ™ºèƒ½),[DeepSeek](/tag/deepseek)

*   â€‹
*   â€‹

*    ![](https://cdn.linux.do/letter_avatar/niyan2025/96/5_d44a9b381edc88181525e3c8350177ca.png)
       [ 2 ](# "2 ä¸ªæœªè¯»é€šçŸ¥") 

*   [è¯é¢˜](/latest "æ‰€æœ‰è¯é¢˜")
*   [æˆ‘çš„å¸–å­](/u/niyan2025/activity/drafts "æˆ‘çš„æœªå‘å¸ƒè‰ç¨¿")
*   [å…³äº](/about "å…³äºæ­¤ç½‘ç«™çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯")
*   [å³å°†åˆ°æ¥çš„æ´»åŠ¨](/upcoming-events "å³å°†åˆ°æ¥çš„æ´»åŠ¨")
*   æ›´å¤š

å¤–éƒ¨é“¾æ¥

*   [Status](https://status.linux.do)
*   [Connect](https://connect.linux.do)
*   [Webmail](https://webmail.linux.do)
*   [Channel](https://t.me/linux_do_channel)
*   [Telegram](https://t.me/ja_netfilter_group)

ç±»åˆ«

*   [å¼€å‘è°ƒä¼˜](/c/develop/4 "æ­¤ç‰ˆå—åŒ…å«å¼€å‘ã€æµ‹è¯•ã€è°ƒè¯•ã€éƒ¨ç½²ã€ä¼˜åŒ–ã€å®‰å…¨ç­‰æ–¹é¢çš„å†…å®¹")
*   [èµ„æºèŸèƒ](/c/resource/14 "åŒ…æ‹¬è½¯ä»¶åˆ†äº«ã€å¼€æºä»“åº“ã€è§†é¢‘è¯¾ç¨‹ã€ä¹¦ç±ç­‰åˆ†äº«")
*   [æ–‡æ¡£å…±å»º](/c/wiki/42 "ä½¬å‹åŒ–èº«ç¿°æ—å­¦å£«ï¼Œä¸€èµ·æ¥ç¼–ä¹¦äº†ã€‚")
*   [è·³èš¤å¸‚åœº](/c/trade/10 "äº¤æ˜“ç›¸å…³çš„ç‰ˆå—ï¼ŒåŒ…å«å®ä½“å’Œè™šæ‹Ÿç‰©å“ä¾›æ±‚ã€æ‹¼è½¦ç­‰ç­‰")
*   [éæˆ‘è«å±](/c/job/27 "å­¦æˆæ–‡æ­¦è‰ºï¼Œè´§ä¸å¸ç‹å®¶ã€‚æ‹›è˜/æ±‚èŒåˆ†ç±»ï¼Œåªèƒ½å‘æ­¤ç±»ä¿¡æ¯ã€‚")
*   [è¯»ä¹¦æˆè¯—](/c/reading/32 "è·Ÿç€ä½¬å‹ä»¬ä¸€èµ·åœ¨è®ºå›è¯»å®Œä¸€æœ¬ä¹¦æ˜¯ä»€ä¹ˆä½“éªŒï¼Ÿ")
*   [æ‰¬å¸†èµ·èˆª](/c/startup/46 "æ‰¬å¸†èµ·èˆªï¼Œç›®æ ‡æ˜¯æ˜Ÿè¾°å¤§æµ·ï¼")
*   [å‰æ²¿å¿«è®¯](/c/news/34 "å‰æ²¿å¿«è®¯ï¼Œä¸å‡ºé—¨èƒ½çŸ¥å¤©ä¸‹äº‹ã€‚")
*   [ç½‘ç»œè®°å¿†](/c/feeds/92 "ç½‘ç»œæ˜¯æœ‰è®°å¿†çš„ï¼Œç¡®ä¿¡ï¼")
*   [ç¦åˆ©ç¾Šæ¯›](/c/welfare/36 "æ­£ç»äººè°èŠ±é‚£ä¸ªé’±å•Šï½ æ­¤ç‰ˆå—ä¾›ç¾Šæ¯›ã€æŠ½å¥–ç­‰ç¦åˆ©ä½¿ç”¨ã€‚")
*   [æä¸ƒæ»ä¸‰](/c/gossip/11 "é—²èŠå¹æ°´çš„æ¿å—ã€‚ä¸å¾—è®¨è®ºæ”¿æ²»ã€è‰²æƒ…ç­‰è¿è§„å†…å®¹ã€‚")
*   [è¿è¥åé¦ˆ](/c/feedback/2 "æœ‰å…³æ­¤ç«™ç‚¹ã€å…¶ç»„ç»‡ã€è¿ä½œæ–¹å¼ä»¥åŠå¦‚ä½•æ”¹è¿›çš„è®¨è®ºã€‚")
*   [æ·±æµ·å¹½åŸŸ](/c/muted/45 "å†°å±±ä¸‹çš„æ·±æµ·ã€‚å¸–å­ä¸ä¼šä¸Šä¿¡æ¯æµã€ä¸ä¼šè¢«è®ºå›æœç´¢ã€‚")
*   [æ‰€æœ‰ç±»åˆ«](/categories)

æ ‡ç­¾

*   [äººå·¥æ™ºèƒ½](/tag/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD)
*   [å…¬å‘Š](/tag/%E5%85%AC%E5%91%8A)
*   [å¿«é—®å¿«ç­”](/tag/%E5%BF%AB%E9%97%AE%E5%BF%AB%E7%AD%94)
*   [æŠ½å¥–](/tag/%E6%8A%BD%E5%A5%96)
*   [ç²¾åç¥å¸–](/tag/%E7%B2%BE%E5%8D%8E%E7%A5%9E%E5%B8%96)
*   [æ‰€æœ‰æ ‡ç­¾](/tags)

æ¶ˆæ¯

*   [æ”¶ä»¶ç®±](/u/niyan2025/messages)

*   [æˆ‘çš„æ¶ˆæ¯ä¸²](/chat/threads "æˆ‘çš„æ¶ˆæ¯ä¸²")

é¢‘é“

*   [å¸¸è§„é¢‘é“](/chat/c/general/2 "ğŸˆ² ç¦æ­¢åœ¨èŠå¤©é¢‘é“é‡Œå‘é€ æ‰“å¡ ç­‰æ— æ„ä¹‰ä¿¡æ¯ï¼Œè¢«ä¸¾æŠ¥ä¼šå–œæ ç¦è¨€1å°æ—¶ ã€‚")

ç›´æ¥æ¶ˆæ¯

*    [![](https://cdn.linux.do/user_avatar/linux.do/xronus/48/130867_2.png)  Anivix](/chat/c/anivix/32458 "ä¸ Anivix èŠå¤©") 

èŠå¤©

Default

â€‹ â€‹ â€‹

**çœŸè¯š**ã€**å‹å–„**ã€**å›¢ç»“**ã€**ä¸“ä¸š**ï¼Œå…±å»ºä½ æˆ‘å¼•ä»¥ä¸ºè£ä¹‹ç¤¾åŒºã€‚[ã€Šå¸¸è§é—®é¢˜è§£ç­”ã€‹](/faq)

[ã€ŒSophnetã€çœŸæ˜¯ä¸ªè‰å°ç­å­ï¼Ÿæ›´æ–° Cloudflare workers éƒ¨ç½²](/t/topic/557480)
============================================================

[å¼€å‘è°ƒä¼˜](/c/develop/4)[å¼€å‘è°ƒä¼˜, Lv1](/c/develop/develop-lv1/20)

[äººå·¥æ™ºèƒ½](/tag/äººå·¥æ™ºèƒ½),[DeepSeek](/tag/deepseek)

æ‚¨å·²é€‰æ‹© **0** ä¸ªå¸–å­ã€‚

å…¨é€‰

å–æ¶ˆé€‰æ‹©

189 æµè§ˆé‡ 33 èµ 8 ç”¨æˆ·

 [![](https://cdn.linux.do/user_avatar/linux.do/user89/96/524601_2.png)](/u/user89 "user89") 

 [![](https://cdn.linux.do/letter_avatar/buyan/96/5_d44a9b381edc88181525e3c8350177ca.png)](/u/buyan "buyan") 

 [![](https://cdn.linux.do/user_avatar/linux.do/baipiaodang/96/558762_2.png)](/u/baipiaodang "baipiaodang") 

 [![](https://cdn.linux.do/user_avatar/linux.do/whymeta/96/38970_2.png)](/u/WhyMeta "WhyMeta") 

 [![](https://cdn.linux.do/user_avatar/linux.do/sniao/96/546057_2.png)](/u/sniao "sniao") 

é˜…è¯»æ—¶é—´ 4 åˆ†é’Ÿ

â€‹

[4æœˆ 13 æ—¥](/t/topic/557480/1 "è·³åˆ°ç¬¬ä¸€ä¸ªå¸–å­")

1 / 8

4æœˆ 13 æ—¥

[2 å°æ—¶ å‰](/t/topic/557480/9)

â€‹

[![](https://cdn.linux.do/user_avatar/linux.do/whymeta/96/38970_2.png)
](/u/WhyMeta)

[æ±‰ç¥–å¤§å¸](/u/WhyMeta)[WhyMeta](/u/WhyMeta)ä¸€å…ƒå¤å§‹ ![](https://cdn.linux.do/images/emoji/twemoji/index_pointing_at_the_viewer.png?v=14) 

7

[4 å°æ—¶](/t/topic/557480?u=niyan2025 "å‘å¸ƒæ—¥æœŸ")

æ›´æ–° Cloudflare workers éƒ¨ç½²(token éšæ„ï¼Œä»£ç ä¼šç”ŸæˆåŒ¿åtokenï¼Œè¯¦æƒ…çœ‹@Neuroplexus ä½¬çš„ [SophNet2Api Deno](https://linux.do/t/topic/537077))

[_**version 1.0.0 for gist**_](https://gist.githubusercontent.com/WhyMeta/4c59ef14387b6162ec64f48c493c0060/raw/sophnet-cloudflare-workers.js)

ä¸æƒ³ç‚¹ğŸ”—ï¼Œç›´æ¥å±•å¼€è¿™é‡Œçœ‹ä»£ç ğŸ‘‡```


``// è¿™æ˜¯ä¸€ä¸ªå°† OpenAI API è¯·æ±‚è½¬æ¢ä¸º SophNet API è¯·æ±‚çš„ä»£ç†æœåŠ¡å™¨
// å®šä¹‰å¸¸é‡
const SOPHNET_BASE_URL = "https://www.sophnet.com/api"; // SophNet API çš„åŸºç¡€ URL

// ä½¿ç”¨JSDocæ³¨é‡Šä»£æ›¿TypeScriptæ¥å£
/**
* åŒ¿åä»¤ç‰Œå“åº”çš„æ¥å£å®šä¹‰
* @typedef {Object} AnonymousTokenResponse
* @property {number} status
* @property {string} message
* @property {Object} result
* @property {string} result.anonymousToken - åŒ¿åè®¿é—®ä»¤ç‰Œ
* @property {string} result.expires - ä»¤ç‰Œè¿‡æœŸæ—¶é—´
* @property {number} timestamp
*/

/**
* SophNet æ¨¡å‹çš„æ¥å£å®šä¹‰
* @typedef {Object} SophNetModel
* @property {number} id
* @property {string|null} serviceUuid
* @property {string} projectUuid - é¡¹ç›® UUID
* @property {string} displayName - æ¨¡å‹æ˜¾ç¤ºåç§°
* @property {string} modelFamily - æ¨¡å‹å®¶æ—
* @property {boolean} available - æ¨¡å‹æ˜¯å¦å¯ç”¨
* @property {boolean} isBaseModel - æ˜¯å¦ä¸ºåŸºç¡€æ¨¡å‹
* @property {any} features - æ¨¡å‹ç‰¹æ€§
* @property {boolean} supportedStream - æ˜¯å¦æ”¯æŒæµå¼å“åº”
* @property {boolean} supportedImageInputs - æ˜¯å¦æ”¯æŒå›¾åƒè¾“å…¥
* @property {Array<Object>} schema - æ¨¡å‹å‚æ•°æ¶æ„
*/

/**
* æ¨¡å‹åˆ—è¡¨å“åº”çš„æ¥å£å®šä¹‰
* @typedef {Object} ModelsResponse
* @property {number} status
* @property {string} message
* @property {Array<SophNetModel>} result - æ¨¡å‹åˆ—è¡¨
* @property {number} timestamp
*/

// è·å–åŒ¿åtoken
// é€šè¿‡ SophNet çš„åŒ¿åç™»å½• API è·å–è®¿é—®ä»¤ç‰Œ
async function getAnonymousToken() {
try {
  const response = await fetch(`${SOPHNET_BASE_URL}/sys/login/anonymous`, {
    method: "GET",
    headers: {
      "Accept": "application/json",
      "User-Agent": "OpenAI-Proxy/1.0",
    },
  });

  if (!response.ok) {
    throw new Error(`Failed to get token: ${response.status}`);
  }

  const data = await response.json();
  return data.result.anonymousToken;
} catch (error) {
  console.error("Error getting anonymous token:", error);
  throw error;
}
}

// è·å–æ¨¡å‹åˆ—è¡¨
// ä½¿ç”¨ä»¤ç‰Œè·å– SophNet å¯ç”¨çš„æ¨¡å‹åˆ—è¡¨
async function getModels(token) {
try {
  const response = await fetch(
    `${SOPHNET_BASE_URL}/public/playground/models`,
    {
      method: "GET",
      headers: {
        "Accept": "application/json",
        "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/132.0.0.0 Safari/537.36",
        "Authorization": `Bearer anon-${token}`,
      },
    },
  );

  if (!response.ok) {
    throw new Error(`Failed to get models: ${response.status}`);
  }

  const data = await response.json();
  return data.result;
} catch (error) {
  console.error("Error getting models:", error);
  throw error;
}
}

// å°†SophNetæ¨¡å‹è½¬æ¢ä¸ºOpenAIæ ¼å¼
// å°† SophNet çš„æ¨¡å‹åˆ—è¡¨è½¬æ¢ä¸º OpenAI API æ ¼å¼çš„æ¨¡å‹åˆ—è¡¨
function transformModelsToOpenAIFormat(models) {
return {
  object: "list",
  data: models.map((model) => ({
    id: model.modelFamily,
    object: "model",
    created: Date.now(),
    owned_by: "sophnet",
    permission: [{
      id: `modelperm-${model.id}`,
      object: "model_permission",
      created: Date.now(),
      allow_create_engine: false,
      allow_sampling: true,
      allow_logprobs: false,
      allow_search_indices: false,
      allow_view: true,
      allow_fine_tuning: false,
      organization: "*",
      group: null,
      is_blocking: false,
    }],
    root: model.modelFamily,
    parent: null,
  })),
};
}

// å¤„ç†èŠå¤©å®Œæˆè¯·æ±‚
// å°† OpenAI æ ¼å¼çš„èŠå¤©è¯·æ±‚è½¬æ¢ä¸º SophNet æ ¼å¼å¹¶å‘é€
async function handleChatCompletions( token,
requestBody,
stream, ) {
const sophNetBody = {
  temperature: requestBody.temperature || 1,
  top_p: requestBody.top_p || 1,
  frequency_penalty: requestBody.frequency_penalty || 0,
  presence_penalty: requestBody.presence_penalty || 0,
  max_tokens: requestBody.max_tokens || 2048,
  webSearchEnable: false,
  stop: requestBody.stop || [],
  stream: stream.toString(),
  model_id: requestBody.model,
  messages: requestBody.messages,
};

const response = await fetch(
  `${SOPHNET_BASE_URL}/open-apis/v1/chat/completions`,
  {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      "Authorization": `Bearer anon-${token}`,
      "Accept": stream ? "text/event-stream" : "application/json",
    },
    body: JSON.stringify(sophNetBody),
  },
);

if (!response.ok) {
  throw new Error(`Chat completion failed: ${response.status}`);
}

return response;
}

// è½¬æ¢æµå¼å“åº”
// å°† SophNet çš„æµå¼å“åº”è½¬æ¢ä¸º OpenAI æ ¼å¼çš„æµå¼å“åº”
async function* transformStreamResponse( readableStream, ) {
const reader = readableStream.getReader();
const decoder = new TextDecoder();
let buffer = "";

try {
  while (true) {
    const { done, value } = await reader.read();
    if (done) break;

    buffer += decoder.decode(value, { stream: true });
    const lines = buffer.split("\n");
    buffer = lines.pop() || "";

    for (const line of lines) {
      if (line.trim() === "" || !line.startsWith("data:")) continue;
      
      const data = line.substring(5).trim();
      if (data === "[DONE]") {
        yield "data: [DONE]\n\n";
        continue;
      }

      try {
        const sophNetEvent = JSON.parse(data);
        
        // è½¬æ¢ä¸ºOpenAIæ ¼å¼çš„äº‹ä»¶
        const openAIEvent = {
          id: sophNetEvent.id || `chatcmpl-${Date.now()}`,
          object: "chat.completion.chunk",
          created: Math.floor(Date.now() / 1000),
          model: sophNetEvent.model || "sophnet-model",
          choices: [
            {
              index: 0,
              delta: {
                content: sophNetEvent.choices?.[0]?.delta?.content || "",
              },
              finish_reason: sophNetEvent.choices?.[0]?.finish_reason || null,
            },
          ],
        };
        
        yield `data: ${JSON.stringify(openAIEvent)}\n\n`;
      } catch (e) {
        console.error("Error parsing event:", e, "Line:", line);
      }
    }
  }
} finally {
  reader.releaseLock();
}
}

// è½¬æ¢éæµå¼å“åº”
// å°† SophNet çš„éæµå¼å“åº”è½¬æ¢ä¸º OpenAI æ ¼å¼çš„å“åº”
async function transformNonStreamResponse(response) {
const sophNetResponse = await response.json();

return {
  id: sophNetResponse.id || `chatcmpl-${Date.now()}`,
  object: "chat.completion",
  created: Math.floor(Date.now() / 1000),
  model: sophNetResponse.model || "sophnet-model",
  choices: [
    {
      index: 0,
      message: {
        role: "assistant",
        content: sophNetResponse.choices?.[0]?.message?.content || "",
      },
      finish_reason: sophNetResponse.choices?.[0]?.finish_reason || "stop",
    },
  ],
  usage: sophNetResponse.usage || {
    prompt_tokens: 0,
    completion_tokens: 0,
    total_tokens: 0,
  },
};
}

// ä¸»å¤„ç†å‡½æ•°
// å¤„ç†æ‰€æœ‰ HTTP è¯·æ±‚çš„ä¸»å‡½æ•°
async function handleRequest(request) {
const url = new URL(request.url);
const path = url.pathname;

// CORSé¢„æ£€è¯·æ±‚å¤„ç†
// å¤„ç†è·¨åŸŸèµ„æºå…±äº«çš„é¢„æ£€è¯·æ±‚
if (request.method === "OPTIONS") {
  return new Response(null, {
    status: 204,
    headers: {
      "Access-Control-Allow-Origin": "*",
      "Access-Control-Allow-Methods": "GET, POST, OPTIONS",
      "Access-Control-Allow-Headers": "Content-Type, Authorization",
      "Access-Control-Max-Age": "86400",
    },
  });
}

// ä¸ºæ¯ä¸ªè¯·æ±‚è·å–æ–°çš„token
let token;
try {
  token = await getAnonymousToken();
} catch (error) {
  return new Response(
    JSON.stringify({ error: "Failed to get token", details: error.message }),
    {
      status: 500,
      headers: {
        "Content-Type": "application/json",
        "Access-Control-Allow-Origin": "*",
      },
    },
  );
}

try {
  // æ¨¡å‹åˆ—è¡¨æ¥å£
  // å¤„ç†è·å–æ¨¡å‹åˆ—è¡¨çš„è¯·æ±‚ï¼Œå¯¹åº” OpenAI çš„ /v1/models æ¥å£
  if (path === "/v1/models" && request.method === "GET") {
    const models = await getModels(token);
    const openAIModels = transformModelsToOpenAIFormat(models);
    
    return new Response(JSON.stringify(openAIModels), {
      status: 200,
      headers: {
        "Content-Type": "application/json",
        "Access-Control-Allow-Origin": "*",
      },
    });
  }
  
  // èŠå¤©å®Œæˆæ¥å£
  // å¤„ç†èŠå¤©å®Œæˆè¯·æ±‚ï¼Œå¯¹åº” OpenAI çš„ /v1/chat/completions æ¥å£
  else if (path === "/v1/chat/completions" && request.method === "POST") {
    const requestBody = await request.json();
    const stream = requestBody.stream === true;
    
    const sophNetResponse = await handleChatCompletions(token, requestBody, stream);
    
    if (stream) {
      // å¤„ç†æµå¼å“åº”
      const transformedStream = new ReadableStream({
        async start(controller) {
          try {
            for await (const chunk of transformStreamResponse(sophNetResponse.body)) {
              controller.enqueue(new TextEncoder().encode(chunk));
            }
            controller.close();
          } catch (error) {
            console.error("Stream transformation error:", error);
            controller.error(error);
          }
        },
      });
      
      return new Response(transformedStream, {
        headers: {
          "Content-Type": "text/event-stream",
          "Cache-Control": "no-cache",
          "Connection": "keep-alive",
          "Access-Control-Allow-Origin": "*",
        },
      });
    } else {
      // å¤„ç†éæµå¼å“åº”
      const transformedResponse = await transformNonStreamResponse(sophNetResponse);
      
      return new Response(JSON.stringify(transformedResponse), {
        status: 200,
        headers: {
          "Content-Type": "application/json",
          "Access-Control-Allow-Origin": "*",
        },
      });
    }
  }
  
  // æœªæ‰¾åˆ°è·¯ç”±
  // å¤„ç†ä¸æ”¯æŒçš„ç«¯ç‚¹
  else {
    return new Response(
      JSON.stringify({ error: "Not found", message: "Endpoint not supported" }),
      {
        status: 404,
        headers: {
          "Content-Type": "application/json",
          "Access-Control-Allow-Origin": "*",
        },
      },
    );
  }
} catch (error) {
  // å¤„ç†è¯·æ±‚è¿‡ç¨‹ä¸­çš„é”™è¯¯
  console.error("Request handling error:", error);
  
  return new Response(
    JSON.stringify({ error: "Internal server error", message: error.message }),
    {
      status: 500,
      headers: {
        "Content-Type": "application/json",
        "Access-Control-Allow-Origin": "*",
      },
    },
  );
}
}

// Cloudflare Workers å…¥å£ç‚¹
export default {
async fetch(request, env, ctx) {
  return handleRequest(request);
}
};`` 
``` 

[![](https://cdn.ldstatic.com/optimized/4X/9/1/7/917af511e13b79ee3a73704f45ef6dffbb354ec7_2_690x438.jpeg)

Mac Studio. 2025-04-14 at 01.50.082970Ã—1886 653 KB

](https://cdn.ldstatic.com/original/4X/9/1/7/917af511e13b79ee3a73704f45ef6dffbb354ec7.jpeg "Mac Studio. 2025-04-14 at 01.50.08")

* * *

æ²‰æµ¸ç¿»è¯‘æ•ˆæœ  

[![](https://cdn.ldstatic.com/optimized/4X/9/6/5/9659ad6251002324273a75130f87310816f914a3_2_690x424.jpeg)

Mac Studio. 2025-04-14 at 02.01.352808Ã—1728 346 KB

](https://cdn.ldstatic.com/original/4X/9/6/5/9659ad6251002324273a75130f87310816f914a3.jpeg "Mac Studio. 2025-04-14 at 02.01.35")

  

[![](https://cdn.ldstatic.com/optimized/4X/0/5/f/05ffc78885d877867a86f4d72e9035c4d0cbeb4c_2_690x426.jpeg)

Mac Studio. 2025-04-14 at 02.07.152670Ã—1650 290 KB

](https://cdn.ldstatic.com/original/4X/0/5/f/05ffc78885d877867a86f4d72e9035c4d0cbeb4c.jpeg "Mac Studio. 2025-04-14 at 02.07.15")

  

[![](https://cdn.ldstatic.com/optimized/4X/b/d/0/bd0c493b6a7535fb4535197e9892a4133b4765b4_2_477x500.jpeg)

Mac Studio. 2025-04-14 at 02.06.592198Ã—2301 560 KB

](https://cdn.ldstatic.com/original/4X/b/d/0/bd0c493b6a7535fb4535197e9892a4133b4765b4.jpeg "Mac Studio. 2025-04-14 at 02.06.59")

* * *

> å•¥ä¹Ÿä¸è¯´äº†ï¼Œç›®å‰æœ€é€‚åˆæ²‰æµ¸çš„ 2API äº†ï¼Œé€Ÿåº¦æ¯”ç«å±±è¿˜ä»–å¦ˆå¿«(v3-0324)

åŒ¿å token æ¥å£ï¼ˆä¸€ä¸ªåŒ¿å token å¯ç”¨è°ƒç”¨æ¬¡æ•° == 10ï¼‰  
å‰ç½®ï¼šanon-{token}  
`https://www.sophnet.com/api/sys/login/anonymous`

Chat æ¥å£

*   å‰ç«¯æ¥å£  
    `https://sophnet.com/api/open-apis/projects/Ar79PWUQUAhjJOja2orHs/chat/completions`
*   åç«¯æ¥å£ï¼ˆæ¨èï¼‰  
    `https://www.sophnet.com/api/open-apis/chat/completions`  
    `https://www.sophnet.com/api/open-apis/v1/chat/completions`

model list æ¥å£  
`https://www.sophnet.com/api/public/playground/models`

æ¨è model  
`DeepSeek-R1` `DeepSeek-v3` `QwQ-32B`

body

```


`{
    "webSearchEnable": true,
    "stream": "true",
    "model_id": "DeepSeek-v3",
    "messages": [
        {
            "role": "user",
            "content": [
                {
                    "type": "text",
                    "text": "ä»Šå¤©å…³ç¨æˆ˜çƒ­ç‚¹æ–°é—»ï¼Œè¿”å›å‰ 3 æ¡ã€‚"
                }
            ]
        }
    ]
}` 
```

è¯´æ˜ï¼š

*   å‰ç«¯ 2API body æ„é€ å’Œåç«¯ API çš„ body æ„é€ æœ‰ç‚¹å·®å¼‚
*   webSearchEnable ä¸ºæ˜¯å¦è”ç½‘(boolean)
*   response (æ¨ç†`$.choices[0].delta.reasoning_content` / å›å¤`$.choices[0].delta.content`)

2API (Deno)  
[https://linux.do/t/topic/537077](https://linux.do/t/topic/537077)

[![](https://cdn.ldstatic.com/optimized/4X/0/5/4/05482b8e7f003d8e6075e72eee9cd45150942bb2_2_690x438.jpeg)

Mac Studio. 2025-04-14 at 01.03.012970Ã—1886 472 KB

](https://cdn.ldstatic.com/original/4X/0/5/4/05482b8e7f003d8e6075e72eee9cd45150942bb2.jpeg "Mac Studio. 2025-04-14 at 01.03.01")

[![](https://cdn.ldstatic.com/optimized/4X/3/4/6/346fbc1922ace5a9a22d481f55abd7fa1dafad57_2_690x438.jpeg)

Mac Studio. 2025-04-14 at 01.03.062970Ã—1886 511 KB

](https://cdn.ldstatic.com/original/4X/3/4/6/346fbc1922ace5a9a22d481f55abd7fa1dafad57.jpeg "Mac Studio. 2025-04-14 at 01.03.06")

[![](https://cdn.ldstatic.com/optimized/4X/d/1/8/d18b049dd72369017cafa9ddcacbd98dc981a29e_2_690x438.jpeg)

Mac Studio. 2025-04-14 at 01.08.012970Ã—1886 655 KB

](https://cdn.ldstatic.com/original/4X/d/1/8/d18b049dd72369017cafa9ddcacbd98dc981a29e.jpeg "Mac Studio. 2025-04-14 at 01.08.01")

  

21

â€‹ â€‹ å›å¤

189 æµè§ˆé‡ 33 èµ 8 ç”¨æˆ·

 [![](https://cdn.linux.do/user_avatar/linux.do/user89/96/524601_2.png)](/u/user89 "user89") 

 [![](https://cdn.linux.do/letter_avatar/buyan/96/5_d44a9b381edc88181525e3c8350177ca.png)](/u/buyan "buyan") 

 [![](https://cdn.linux.do/user_avatar/linux.do/baipiaodang/96/558762_2.png)](/u/baipiaodang "baipiaodang") 

 [![](https://cdn.linux.do/user_avatar/linux.do/whymeta/96/38970_2.png)](/u/WhyMeta "WhyMeta") 

 [![](https://cdn.linux.do/user_avatar/linux.do/sniao/96/546057_2.png)](/u/sniao "sniao") 

é˜…è¯»æ—¶é—´ 4 åˆ†é’Ÿ

[![](https://cdn.linux.do/user_avatar/linux.do/sniao/96/546057_2.png)
](/u/sniao)

[å‚»é¸Ÿ](/u/sniao)[sniao](/u/sniao)ä¸€å…ƒå¤å§‹ ![](https://cdn.linux.do/images/emoji/twemoji/phoenix.png?v=14) 

[4 å°æ—¶](/t/topic/557480/2?u=niyan2025 "å‘å¸ƒæ—¥æœŸ")

å¤§ä½¬è¿™ä¸ªæŠ€æœ¯éå¸¸ä¸é”™

  

4

â€‹ â€‹ å›å¤

[![](https://cdn.linux.do/letter_avatar/buyan/96/5_d44a9b381edc88181525e3c8350177ca.png)
](/u/buyan)

[buyan](/u/buyan)è›‡æ¥è¿è½¬

[4 å°æ—¶](/t/topic/557480/3?u=niyan2025 "å‘å¸ƒæ—¥æœŸ")

ä½¬å¤ªå¼ºäº†ã€‚ã€‚é©¬ä¸Šéƒ¨ç½²

  

2

â€‹ â€‹ å›å¤

[![](https://cdn.linux.do/user_avatar/linux.do/baipiaodang/96/558762_2.png)
](/u/baipiaodang)

[baipiaodang](/u/baipiaodang) ![](https://cdn.linux.do/images/emoji/twemoji/speech_balloon.png?v=14) 

[4 å°æ—¶](/t/topic/557480/4?u=niyan2025 "å‘å¸ƒæ—¥æœŸ")

å¤ªæœ‰å®åŠ›å•¦

  

2

â€‹ â€‹ å›å¤

[![](https://cdn.linux.do/user_avatar/linux.do/bbbjltql/96/368047_2.png)
](/u/bbbjltql)

[bbbå·¨ä½¬å¤ªå¼ºäº†](/u/bbbjltql)[bbbjltql](/u/bbbjltql)ä¸€å…ƒå¤å§‹ ![](https://cdn.ldstatic.com/original/3X/2/e/2e09f3a3c7b27eacbabe9e9614b06b88d5b06343.png?v=14) 

[4 å°æ—¶](/t/topic/557480/5?u=niyan2025 "å‘å¸ƒæ—¥æœŸ")

ä½¿ sophnet æ—‹è½¬ ![](https://cdn.ldstatic.com/original/3X/e/4/e415f72201d585ac7ccc869a334048006d2b6b9d.png?v=14)

  

2

â€‹ â€‹ å›å¤

[![](https://cdn.linux.do/user_avatar/linux.do/hiagfh/96/369837_2.png)
](/u/hiagfh)

[hiagfh](/u/hiagfh)

[4 å°æ—¶](/t/topic/557480/6?u=niyan2025 "å‘å¸ƒæ—¥æœŸ")

å“ˆå“ˆå“ˆï¼Œå¤ªbtäº†ï¼Œè£¸å¥”

  

2

â€‹ â€‹ å›å¤

[![](https://cdn.linux.do/user_avatar/linux.do/moonk/96/370217_2.png)
](/u/moonk)

[èŠéœ¾](/u/moonk)[moonk](/u/moonk)ä¸€å…ƒå¤å§‹

[2 å°æ—¶](/t/topic/557480/8?u=niyan2025 "å‘å¸ƒæ—¥æœŸ")

ç‰›å‘€ï¼Œåé¢è¯•è¯•

  

â€‹ â€‹ å›å¤

[![](https://cdn.linux.do/user_avatar/linux.do/user89/96/524601_2.png)
](/u/user89)

[å½å½](/u/user89)[user89](/u/user89)ç§å­ç”¨æˆ·

[2 å°æ—¶](/t/topic/557480/9?u=niyan2025 "å‘å¸ƒæ—¥æœŸ")

å‰å®³äº†æˆ‘çš„ä½¬~

  

â€‹ â€‹ å›å¤

### æ­¤è¯é¢˜å°†åœ¨æœ€åä¸€ä¸ªå›å¤çš„1 ä¸ªæœˆåå…³é—­ã€‚

åˆ†äº« åŠ å…¥ä¹¦ç­¾ ä¸¾æŠ¥

å›å¤

å·²å–æ¶ˆç½®é¡¶

â€‹

æ­¤è¯é¢˜å·²å¯¹æ‚¨å–æ¶ˆç½®é¡¶ï¼›å®ƒå°†ä»¥å¸¸è§„é¡ºåºæ˜¾ç¤º

å¸¸è§„ æ‚¨ä¼šåœ¨åˆ«äºº @ æ‚¨æˆ–å›å¤æ‚¨æ—¶æ”¶åˆ°é€šçŸ¥ã€‚

  

*   æ¨è
*   ç›¸å…³

### æ–°è¯é¢˜å’Œæœªè¯»è¯é¢˜

è¯é¢˜åˆ—è¡¨ï¼Œå¸¦æœ‰æŒ‰é’®çš„åˆ—æ ‡é¢˜å¯ä»¥æ’åºã€‚
| è¯é¢˜ | å›å¤ | æµè§ˆé‡ | æ´»åŠ¨ |
| --- | --- | --- | --- |
| [é€ç»™ä½¬å‹çš„æ–°å¹´ç¤¼ç‰©ï¼šCursor 0.45.x å…¨ç½‘æœ€æ–°é™åˆ¶è§£é™¤æ–¹æ¡ˆï¼ˆmacOSã€Windowsã€Linuxï¼‰](/t/topic/404221/150) Â [45](/t/topic/404221/150 "æ‚¨åœ¨æ­¤è¯é¢˜ä¸­æœ‰ 45 ä¸ªæœªè¯»å¸–å­")

[å¼€å‘è°ƒä¼˜, Lv1](/c/develop/develop-lv1/20)

[äººå·¥æ™ºèƒ½](/tag/äººå·¥æ™ºèƒ½),[Cursor](/tag/cursor)



 | [190](/t/topic/404221/1) | 6.4k | [12 å¤©](/t/topic/404221/194) |
| [ã€åŸåˆ›ã€‘æˆ‘æ˜¯å¦‚ä½•è¯·é»‘å®¢è€å“¥åƒä¸Šäº†ç‰¢é¥­](/t/topic/387565/324) Â [18](/t/topic/387565/324 "æ‚¨åœ¨æ­¤è¯é¢˜ä¸­æœ‰ 18 ä¸ªæœªè¯»å¸–å­")

[å¼€å‘è°ƒä¼˜, Lv1](/c/develop/develop-lv1/20)

[ç½‘ç»œå®‰å…¨](/tag/ç½‘ç»œå®‰å…¨),[ç²¾åç¥å¸–](/tag/ç²¾åç¥å¸–)



 | [339](/t/topic/387565/1) | 8.0k | [15 å¤©](/t/topic/387565/341) |
| [Cursor Pool æ›´æ–°è¯´æ˜](/t/topic/435717/42) Â [206](/t/topic/435717/42 "æ‚¨åœ¨æ­¤è¯é¢˜ä¸­æœ‰ 206 ä¸ªæœªè¯»å¸–å­")

[å¼€å‘è°ƒä¼˜, Lv1](/c/develop/develop-lv1/20)

[äººå·¥æ™ºèƒ½](/tag/äººå·¥æ™ºèƒ½),[Cursor](/tag/cursor)



 | [244](/t/topic/435717/1) | 11.8k | [19 å¤©](/t/topic/435717/247) |
| [cursor ä½“éªŒè„šæœ¬](/t/topic/359608/500) Â [171](/t/topic/359608/500 "æ‚¨åœ¨æ­¤è¯é¢˜ä¸­æœ‰ 171 ä¸ªæœªè¯»å¸–å­")

[å¼€å‘è°ƒä¼˜, Lv1](/c/develop/develop-lv1/20)

[äººå·¥æ™ºèƒ½](/tag/äººå·¥æ™ºèƒ½),[ç²¾åç¥å¸–](/tag/ç²¾åç¥å¸–)



 | [658](/t/topic/359608/1) | 21.5k | [19 å¤©](/t/topic/359608/670) |
| [æ— è„‘å¥—AWS CloudFrontæ•™ç¨‹ï¼šè®©ä½ çš„ç½‘ç«™é€Ÿåº¦é£èµ·æ¥](/t/topic/399977/11) Â [29](/t/topic/399977/11 "æ‚¨åœ¨æ­¤è¯é¢˜ä¸­æœ‰ 29 ä¸ªæœªè¯»å¸–å­")

[å¼€å‘è°ƒä¼˜, Lv1](/c/develop/develop-lv1/20)

[é…ç½®ä¼˜åŒ–](/tag/é…ç½®ä¼˜åŒ–),[ä½œå“é›†](/tag/ä½œå“é›†)



 | [36](/t/topic/399977/1) | 934 | [25 å¤©](/t/topic/399977/39) |

### æœ‰ [32 ä¸ªæœªè¯»](/unread)è¯é¢˜ å’Œ [136 ä¸ªæ–°](/new)è¯é¢˜ï¼Œ æˆ–æµè§ˆ[å¼€å‘è°ƒä¼˜, Lv1](/c/develop/develop-lv1/20)ä¸­çš„å…¶ä»–è¯é¢˜

Invalid date Invalid date

â†‘â†“â‡”â‡§â‡©