# 【项目重做🤣】AIstudioProxyAPI的Python版正式发布，支持无头模式了 - 资源荟萃 - LINUX DO
[【项目重做🤣】AIstudioProxyAPI的Python版正式发布，支持无头模式了 - 资源荟萃 - LINUX DO](https://linux.do/t/topic/617542) 

  【项目重做🤣】AIstudioProxyAPI的Python版正式发布，支持无头模式了 - 资源荟萃 - LINUX DO                                                 

[跳到主要内容](#main-container)

 [![](https://cdn.ldstatic.com/original/3X/b/4/b4fa45d8b03df61f5d011e173c0adf8497028b16.png)](/) 

*   ​
*   ​

*    ![](https://cdn.linux.do/letter_avatar/niyan2025/96/5_d44a9b381edc88181525e3c8350177ca.png) 

*   [话题](/latest "所有话题")
*   [我的帖子](/u/niyan2025/activity/drafts "我的未发布草稿")
*   [关于](/about "关于此网站的更多详细信息")
*   [即将到来的活动](/upcoming-events "即将到来的活动")
*   更多

外部链接

*   [Status](https://status.linux.do)
*   [T-Shirt](https://item.taobao.com/item.htm?id=910907382401)
*   [Connect](https://connect.linux.do)
*   [Webmail](https://webmail.linux.do)
*   [Channel](https://t.me/linux_do_channel)
*   [Telegram](https://t.me/ja_netfilter_group)

类别

*   [开发调优](/c/develop/4 "此版块包含开发、测试、调试、部署、优化、安全等方面的内容")
*   [资源荟萃](/c/resource/14 "包括软件分享、开源仓库、视频课程、书籍等分享")
*   [文档共建](/c/wiki/42 "佬友化身翰林学士，一起来编书了。")
*   [跳蚤市场](/c/trade/10 "交易相关的版块，包含实体和虚拟物品供求、拼车等等")
*   [非我莫属](/c/job/27 "学成文武艺，货与帝王家。招聘/求职分类，只能发此类信息。")
*   [读书成诗](/c/reading/32 "跟着佬友们一起在论坛读完一本书是什么体验？")
*   [扬帆起航](/c/startup/46 "扬帆起航，目标是星辰大海！")
*   [前沿快讯](/c/news/34 "前沿快讯，不出门能知天下事。")
*   [网络记忆](/c/feeds/92 "网络是有记忆的，确信！")
*   [福利羊毛](/c/welfare/36 "正经人谁花那个钱啊～ 此版块供羊毛、抽奖等福利使用。")
*   [搞七捻三](/c/gossip/11 "闲聊吹水的板块。不得讨论政治、色情等违规内容。")
*   [运营反馈](/c/feedback/2 "有关此站点、其组织、运作方式以及如何改进的讨论。")
*   [深海幽域](/c/muted/45 "冰山下的深海。帖子不会上信息流、不会被论坛搜索。")
*   [所有类别](/categories)

标签

*   [人工智能](/tag/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD)
*   [公告](/tag/%E5%85%AC%E5%91%8A)
*   [快问快答](/tag/%E5%BF%AB%E9%97%AE%E5%BF%AB%E7%AD%94)
*   [抽奖](/tag/%E6%8A%BD%E5%A5%96)
*   [精华神帖](/tag/%E7%B2%BE%E5%8D%8E%E7%A5%9E%E5%B8%96)
*   [所有标签](/tags)

消息

*   [收件箱](/u/niyan2025/messages)

*   [我的消息串](/chat/threads "我的消息串")

频道

*   [常规频道](/chat/c/general/2 "🈲 禁止在聊天频道里发送 打卡 等无意义信息，被举报会喜提 禁言1小时 。")

直接消息

*    [![](https://cdn.linux.do/user_avatar/linux.do/wenjuhe/48/363901_2.png)  奇妙进化小河马🦛   ![](https://cdn.linux.do/images/emoji/twemoji/hippopotamus.png?v=14)](/chat/c/%E5%A5%87%E5%A6%99%E8%BF%9B%E5%8C%96%E5%B0%8F%E6%B2%B3%E9%A9%AC%F0%9F%A6%9B/45968 "与 奇妙进化小河马🦛 聊天") 
*    [![](https://cdn.linux.do/user_avatar/linux.do/huan/48/293194_2.png)  焕昭君](/chat/c/%E7%84%95%E6%98%AD%E5%90%9B/43057 "与 焕昭君 聊天") 
*    [![](https://cdn.linux.do/user_avatar/linux.do/xronus/48/130867_2.png)  Anivix](/chat/c/anivix/32458 "与 Anivix 聊天") 

聊天

Default

​ ​ ​

**真诚**、**友善**、**团结**、**专业**，共建你我引以为荣之社区。[《常见问题解答》](/faq)

[

❤️ 再忍不住，也不要做这种事啊 ❤️

](https://linux.do/t/topic/482293)

[【项目重做![](https://cdn.linux.do/images/emoji/twemoji/rofl.png?v=14)
】AIstudioProxyAPI的Python版正式发布，支持无头模式了](/t/topic/617542)


============================================================================================================================

[资源荟萃](/c/resource/14)

[人工智能](/tag/人工智能)

,[OpenAI](/tag/openai)

,[软件开发](/tag/软件开发)

,[Gemini](/tag/gemini)

您已选择 **0** 个帖子。

全选

取消选择

​

[5月 2 日](/t/topic/617542/1 "跳到第一个帖子")

1 / 79

5月 2 日

返回

[34 分钟](/t/topic/617542/79)

热门回复 ​

[![](https://cdn.linux.do/user_avatar/linux.do/cjackhwang/96/598653_2.png)
](/u/CJackHwang)

[CJACK](/u/CJackHwang)

[CJackHwang](/u/CJackHwang) ![](https://cdn.linux.do/images/emoji/twemoji/speech_balloon.png?v=14) 

1

[23 小时](/t/topic/617542?u=niyan2025 "发布日期")

从[\[书接上回\]自用开源的AIstudioProxyAPI项目发布，感谢佬友们热情支持](https://linux.do/t/topic/601410)

继续讨论：

佬友们啊，佬友们。。我回来了

项目进展非常顺利  
~（除了中途熬夜只是为了改Python的缩进改了两个多小时外）~

现在这是进化了  
技术栈由Node.js + Playwright + Chrome变成Python + FastAPI + Playwright + Camoufox 的代理服务器  
实现效果基本相同，都是旨在通过模拟 OpenAI API 的方式间接访问 Google AI Studio 网页版，但功能上后者是前者的超集

先说一下，这不是简单的重构，这是完完全全的重做![](https://cdn.linux.do/images/emoji/twemoji/rofl.png?v=14)
新代码完全没有不含任何原来的代码成分，~得亏是gemini2.5pro和claude3.7，不然不可能仅仅两天内用完全没关系的技术栈和库，就完美复刻甚至拓展功能，一次性改动超过3500+行代码，放在三年前老牛马都做不到，何况我一个每种语言都只会基本语法的学牲。只能感慨时代变迁，ai生产力太恐怖了~

md文档已经非常完善

[github.com](https://github.com/CJackHwang/AIstudioProxyAPI)

![](https://cdn.ldstatic.com/optimized/4X/e/2/a/e2aa0f9beb2a4bde3a802bd25e3987ec6d978eb5_2_690x344.png)

### [GitHub - CJackHwang/AIstudioProxyAPI: 一个基于 Python + FastAPI + Playwright + Camoufox...](https://github.com/CJackHwang/AIstudioProxyAPI)

一个基于 Python + FastAPI + Playwright + Camoufox 的代理服务器，兼容 OpenAI API ，将请求转发到 Google AI Studio 网页版的对话，并同样按照标准格式返回输出的工具

无头模式下非常流畅，尤其是roocode在原本版本的有头模式下对比python版无头模式使用。。  
没有渲染就没有压力![](https://cdn.linux.do/images/emoji/twemoji/face_savoring_food.png?v=14)
，一次性发送超长文本完全不带卡的。  
至于项目刚发布时X上有人担心的封号问题（亡命之徒无所畏惧）。这个新版本因为用的应该是当下最前沿的反机器人检测浏览器camoufox，每次启动是新的环境，配合浏览器深度指纹欺骗等强大功能，都已经能实现无头模式与gemini网页对话了，安全问题应该不大罢  
~![](https://cdn.linux.do/images/emoji/twemoji/face_savoring_food.png?v=14)
我自己开发都用了好久了也没事~

[![](https://cdn.ldstatic.com/optimized/4X/e/0/f/e0f01391eb1fd3181cc71ab28d27ddea921d223b_2_690x157.jpeg)

Screenshot\_2025-05-02-23-47-52-322\_com.android.chrome-edit1080×246 46.6 KB

](https://cdn.ldstatic.com/original/4X/e/0/f/e0f01391eb1fd3181cc71ab28d27ddea921d223b.jpeg "Screenshot_2025-05-02-23-47-52-322_com.android.chrome-edit")

没在其他环境部署测试，大佬们看看有没有问题，反馈一下？

5.3更新：受佬友的指点，最新的v1.1.0\_py已经更新

更加激进，支持处理编辑过的客户端历史消息（OpenWebUI为例），可以自由切换历史记录，且新版本更换消息获取方式，代码更简洁，输出更稳定（获取原生级输出）。  
现在不再会出现因为多格式输出等问题导致ai输出不稳定，对于编程工具，酒馆等更加支持

新版本逻辑把实时流式输出换成了伪流式，如果客户端支持启用非流式，建议启用，可以节省时间。

  

![](https://cdn.linux.do/images/emoji/twemoji/heart.png?v=14)

heart

![](https://cdn.linux.do/images/emoji/twemoji/+1.png?v=14)

+1

![](https://cdn.linux.do/images/emoji/twemoji/clap.png?v=14)

clap

59

​ ​ 回复

888 浏览量 156 赞 2 链接 25 用户

 [![](https://cdn.linux.do/user_avatar/linux.do/cjackhwang/96/598653_2.png)
 33](/u/CJackHwang "CJackHwang") 

 [![](https://cdn.linux.do/user_avatar/linux.do/yxmiler/96/551639_2.png)
 14](/u/yxmiler "yxmiler") 

 [![](https://cdn.linux.do/user_avatar/linux.do/caoayu/96/537036_2.png)
 8](/u/caoayu "caoayu")

 [![](https://cdn.linux.do/letter_avatar/tanning4078/96/5_d44a9b381edc88181525e3c8350177ca.png)
 2](/u/Tanning4078 "Tanning4078") 

 [![](https://cdn.linux.do/user_avatar/linux.do/aqurpentes/96/477185_2.png)
 2](/u/Aqurpentes "Aqurpentes") 

阅读时间 6 分钟

热门回复

总结

[![](https://cdn.linux.do/user_avatar/linux.do/cjackhwang/96/598653_2.png)
](/u/CJackHwang)

[CJACK](/u/CJackHwang)

[CJackHwang](/u/CJackHwang) ![](https://cdn.linux.do/images/emoji/twemoji/speech_balloon.png?v=14) 

[23 小时](/t/topic/617542/2?u=niyan2025 "发布日期")

其实这个版本的才是真正具有实用性的一个哈哈哈，所以必须重做！

  

8

​ ​ 回复

[![](https://cdn.linux.do/letter_avatar/taptap/96/5_d44a9b381edc88181525e3c8350177ca.png)
](/u/TapTap)

[TapTap](/u/TapTap)

[23 小时](/t/topic/617542/3?u=niyan2025 "发布日期")

太强了，佬，这个能不能把gemini.google.com也弄出来

  

![](https://cdn.linux.do/images/emoji/twemoji/heart.png?v=14)

heart

![](https://cdn.linux.do/images/emoji/twemoji/+1.png?v=14)

+1

7

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/tianzeze/96/507610_2.png)
](/u/TianZeze)

[TianZeze](/u/TianZeze)

[22 小时](/t/topic/617542/4?u=niyan2025 "发布日期")

对硬件要求多高啊，我想在服务器上部署 ![](https://cdn.linux.do/images/emoji/twemoji/face_savoring_food.png?v=14)

  

1 个回复

8

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/cjackhwang/96/598653_2.png)
](/u/CJackHwang)

[CJACK](/u/CJackHwang)

[CJackHwang](/u/CJackHwang) ![](https://cdn.linux.do/images/emoji/twemoji/speech_balloon.png?v=14) 

 ![](https://cdn.linux.do/user_avatar/linux.do/tianzeze/48/507610_2.png)
 TianZeze

[22 小时](/t/topic/617542/5?u=niyan2025 "发布日期")

不知道诶，你本地部署估算一下（）？感觉要先docker容器化方便一点，现在版本可能手动搞有点麻烦

  

7

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/yxmiler/96/551639_2.png)
](/u/yxmiler)

[miler](/u/yxmiler)

[yxmiler](/u/yxmiler)

[22 小时](/t/topic/617542/6?u=niyan2025 "发布日期")

怎么你们都不做温度和模型切换 这个挺简单的吧，至于markdown这些文本都很容易获取啊，直接获取最后一个model的class的对话框的编辑按钮就行 ![](https://cdn.ldstatic.com/original/3X/2/e/2e09f3a3c7b27eacbabe9e9614b06b88d5b06343.png?v=14)

  

2 个回复

![](https://cdn.linux.do/images/emoji/twemoji/heart.png?v=14)

heart

![](https://cdn.ldstatic.com/original/3X/2/e/2e09f3a3c7b27eacbabe9e9614b06b88d5b06343.png?v=14)

tieba\_087

5

​ ​ 回复

[![](https://cdn.linux.do/letter_avatar/buyan/96/5_d44a9b381edc88181525e3c8350177ca.png)
](/u/buyan)

[buyan](/u/buyan)

蛇来运转

[22 小时](/t/topic/617542/7?u=niyan2025 "发布日期")

等我研究下拉个容器起来

  

4

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/wive/96/546606_2.png)
](/u/Wive)

[warming](/u/Wive)

[Wive](/u/Wive)

[22 小时](/t/topic/617542/8?u=niyan2025 "发布日期")

教程看着好复杂啊 ![](https://cdn.linux.do/images/emoji/twemoji/joy.png?v=14)

  

1 个回复

![](https://cdn.linux.do/images/emoji/twemoji/heart.png?v=14)

heart

![](https://cdn.linux.do/images/emoji/twemoji/clap.png?v=14)

clap

4

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/shannon/96/26336_2.png)
](/u/Shannon)

[香农](/u/Shannon)

[Shannon](/u/Shannon)

[22 小时](/t/topic/617542/9?u=niyan2025 "发布日期")

用playwright可能不太优雅，但是无痛

  

1 个回复

![](https://cdn.linux.do/images/emoji/twemoji/heart.png?v=14)

heart

![](https://cdn.linux.do/images/emoji/twemoji/laughing.png?v=14)

laughing

4

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/hyy1000/96/54761_2.png)
](/u/hyy1000)

[tingxuan](/u/hyy1000)

[hyy1000](/u/hyy1000)海纳百川 ![](https://cdn.linux.do/images/emoji/twemoji/speech_balloon.png?v=14) 

[22 小时](/t/topic/617542/10?u=niyan2025 "发布日期")

mrke一下

  

![](https://cdn.linux.do/images/emoji/twemoji/heart.png?v=14)

heart

![](https://cdn.linux.do/images/emoji/twemoji/+1.png?v=14)

+1

3

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/yxmiler/96/551639_2.png)
](/u/yxmiler)

[miler](/u/yxmiler)

[yxmiler](/u/yxmiler)

[22 小时](/t/topic/617542/11?u=niyan2025 "发布日期")

感觉太臃肿了，还是用drissionpage吧，我好久前用drissionpage+Python写的AIstudio2API无头自动化，网页AI聊天部分有的功能都加了，也才1千行代码，xpath定位挺好用的。要是有闲心，可以再重置看看，不过佬才高中生，真的是强，是佬级别了 ![](https://cdn.ldstatic.com/original/3X/2/e/2e09f3a3c7b27eacbabe9e9614b06b88d5b06343.png?v=14)
（）

  

![](https://cdn.linux.do/images/emoji/twemoji/heart.png?v=14)

heart

![](https://cdn.ldstatic.com/original/3X/2/e/2e09f3a3c7b27eacbabe9e9614b06b88d5b06343.png?v=14)

tieba\_087

6

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/cjackhwang/96/598653_2.png)
](/u/CJackHwang)

[CJACK](/u/CJackHwang)

[CJackHwang](/u/CJackHwang) ![](https://cdn.linux.do/images/emoji/twemoji/speech_balloon.png?v=14) 

 ![](https://cdn.linux.do/user_avatar/linux.do/wive/48/546606_2.png)
 warming

[22 小时](/t/topic/617542/12?u=niyan2025 "发布日期")

在简化了

  

2

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/cjackhwang/96/598653_2.png)
](/u/CJackHwang)

[CJACK](/u/CJackHwang)

[CJackHwang](/u/CJackHwang) ![](https://cdn.linux.do/images/emoji/twemoji/speech_balloon.png?v=14) 

 ![](https://cdn.linux.do/user_avatar/linux.do/yxmiler/48/551639_2.png)
 miler

[22 小时](/t/topic/617542/13?u=niyan2025 "发布日期")

这样非流式可行，做不了流式啊

  

1 个回复

2

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/lxz07/96/301596_2.png)
](/u/lxz07)

[0031400](/u/lxz07)

[lxz07](/u/lxz07)

[22 小时](/t/topic/617542/14?u=niyan2025 "发布日期")

加油，看好你

  

1 个回复

![](https://cdn.linux.do/images/emoji/twemoji/heart.png?v=14)

heart

![](https://cdn.linux.do/images/emoji/twemoji/laughing.png?v=14)

laughing

2

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/cjackhwang/96/598653_2.png)
](/u/CJackHwang)

[CJACK](/u/CJackHwang)

[CJackHwang](/u/CJackHwang) ![](https://cdn.linux.do/images/emoji/twemoji/speech_balloon.png?v=14) 

 ![](https://cdn.linux.do/user_avatar/linux.do/shannon/48/26336_2.png)
 香农

[22 小时](/t/topic/617542/15?u=niyan2025 "发布日期")

是不太优雅，甚至粗暴![](https://cdn.linux.do/images/emoji/twemoji/grin.png?v=14)

  

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/cjackhwang/96/598653_2.png)
](/u/CJackHwang)

[CJACK](/u/CJackHwang)

[CJackHwang](/u/CJackHwang) ![](https://cdn.linux.do/images/emoji/twemoji/speech_balloon.png?v=14) 

 ![](https://cdn.linux.do/user_avatar/linux.do/yxmiler/48/551639_2.png)
 miler

[22 小时](/t/topic/617542/16?u=niyan2025 "发布日期")

温度和模型切换什么的还没来得及做，看更新计划是有的 ![](https://cdn.linux.do/images/emoji/twemoji/clown_face.png?v=14)

  

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/cjackhwang/96/598653_2.png)
](/u/CJackHwang)

[CJACK](/u/CJackHwang)

[CJackHwang](/u/CJackHwang) ![](https://cdn.linux.do/images/emoji/twemoji/speech_balloon.png?v=14) 

 ![](https://cdn.linux.do/user_avatar/linux.do/lxz07/48/301596_2.png)
 0031400

[22 小时](/t/topic/617542/17?u=niyan2025 "发布日期")

谢谢佬支持

  

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/yxmiler/96/551639_2.png)
](/u/yxmiler)

[miler](/u/yxmiler)

[yxmiler](/u/yxmiler)

 ![](https://cdn.linux.do/user_avatar/linux.do/cjackhwang/48/598653_2.png)
 CJACK

[22 小时](/t/topic/617542/18?u=niyan2025 "发布日期")

流式就伪造呗，就当兼容一下那些只能流式的软件就行了，自动流式的话他那边格式太多了，当然也有更好的解决办法，监听AIstudio他的聊天请求的返回信息，不过需要点技术。

  

1 个回复

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/cjackhwang/96/598653_2.png)
](/u/CJackHwang)

[CJACK](/u/CJackHwang)

[CJackHwang](/u/CJackHwang) ![](https://cdn.linux.do/images/emoji/twemoji/speech_balloon.png?v=14) 

 ![](https://cdn.linux.do/user_avatar/linux.do/yxmiler/48/551639_2.png)
 miler

[22 小时](/t/topic/617542/19?u=niyan2025 "发布日期")

我直接上提示词让ai包在md代码框下固定格式输出，根据开始标记来实时获取传输文本![](https://cdn.linux.do/images/emoji/twemoji/cry.png?v=14)

  

3 个回复

![](https://cdn.ldstatic.com/original/3X/2/e/2e09f3a3c7b27eacbabe9e9614b06b88d5b06343.png?v=14)

tieba\_087

1

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/yxmiler/96/551639_2.png)
](/u/yxmiler)

[miler](/u/yxmiler)

[yxmiler](/u/yxmiler)

 ![](https://cdn.linux.do/user_avatar/linux.do/cjackhwang/48/598653_2.png)
 CJACK

[22 小时](/t/topic/617542/20?u=niyan2025 "发布日期")

这种会降智，而且不是很稳定。然后因为你自己加了提示词原因，还会导致其他人如果也设置提示词的话会不通用。

  

1 个回复

​ ​ 回复

Invalid date Invalid date

Settings
========

🏷️ UTags - Add usertags to links

Other Extensions
----------------

[🔗 Links Helper](https://greasyfork.org/en/scripts/464541-links-helper)

[V2EX.REP - 专注提升 V2EX 主题回复浏览体验](https://greasyfork.org/en/scripts/466589-v2ex-rep-%E4%B8%93%E6%B3%A8%E6%8F%90%E5%8D%87-v2ex-%E4%B8%BB%E9%A2%98%E5%9B%9E%E5%A4%8D%E6%B5%8F%E8%A7%88%E4%BD%93%E9%AA%8C)

[v2ex.min - V2EX Minimalist (极简风格)](https://greasyfork.org/en/scripts/463552-v2ex-min-v2ex-%E6%9E%81%E7%AE%80%E9%A3%8E%E6%A0%BC)

[Replace Ugly Avatars](https://greasyfork.org/en/scripts/472616-replace-ugly-avatars)

↑↓⇔⇧⇩