# gemini-balance的docker-compose部署方式 - 搞七捻三 / 搞七捻三, Lv1 - LINUX DO
[gemini-balance的docker-compose部署方式 - 搞七捻三 / 搞七捻三, Lv1 - LINUX DO](https://linux.do/t/topic/617506/23) 

  gemini-balance的docker-compose部署方式 - 搞七捻三 / 搞七捻三, Lv1 - LINUX DO                                            

[跳到主要内容](#main-container)

 [![](https://cdn.ldstatic.com/original/3X/9/d/9dd49731091ce8656e94433a26a3ef36062b3994.png)](/) 

[gemini-balance的docker-compose部署方式](/t/topic/617506)


======================================================

[搞七捻三](/c/gossip/11)

[搞七捻三, Lv1](/c/gossip/gossip-lv1/35)

[人工智能](/tag/人工智能)

,[Gemini](/tag/gemini)

*   ​
*   ​

*    ![](https://cdn.linux.do/letter_avatar/niyan2025/96/5_d44a9b381edc88181525e3c8350177ca.png) 

*   [话题](/latest "所有话题")
*   [我的帖子](/u/niyan2025/activity/drafts "我的未发布草稿")
*   [关于](/about "关于此网站的更多详细信息")
*   [即将到来的活动](/upcoming-events "即将到来的活动")
*   更多

外部链接

*   [Status](https://status.linux.do)
*   [T-Shirt](https://shanwaiyoushan.taobao.com)
*   [Connect](https://connect.linux.do)
*   [Webmail](https://webmail.linux.do)
*   [Channel](https://t.me/linux_do_channel)
*   [Telegram](https://t.me/ja_netfilter_group)

类别

*   [开发调优](/c/develop/4 "此版块包含开发、测试、调试、部署、优化、安全等方面的内容")
*   [资源荟萃](/c/resource/14 "包括软件分享、开源仓库、视频课程、书籍等分享")
*   [文档共建](/c/wiki/42 "佬友化身翰林学士，一起来编书了。")
*   [跳蚤市场](/c/trade/10 "交易相关的版块，包含实体和虚拟物品供求、拼车等等")
*   [非我莫属](/c/job/27 "学成文武艺，货与帝王家。招聘/求职分类，只能发此类信息。")
*   [读书成诗](/c/reading/32 "跟着佬友们一起在论坛读完一本书是什么体验？")
*   [扬帆起航](/c/startup/46 "扬帆起航，目标是星辰大海！")
*   [前沿快讯](/c/news/34 "前沿快讯，不出门能知天下事。")
*   [网络记忆](/c/feeds/92 "网络是有记忆的，确信！")
*   [福利羊毛](/c/welfare/36 "正经人谁花那个钱啊～ 此版块供羊毛、抽奖等福利使用。")
*   [搞七捻三](/c/gossip/11 "闲聊吹水的板块。不得讨论政治、色情等违规内容。")
*   [运营反馈](/c/feedback/2 "有关此站点、其组织、运作方式以及如何改进的讨论。")
*   [深海幽域](/c/muted/45 "冰山下的深海。帖子不会上信息流、不会被论坛搜索。")
*   [所有类别](/categories)

标签

*   [人工智能](/tag/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD)
*   [公告](/tag/%E5%85%AC%E5%91%8A)
*   [快问快答](/tag/%E5%BF%AB%E9%97%AE%E5%BF%AB%E7%AD%94)
*   [抽奖](/tag/%E6%8A%BD%E5%A5%96)
*   [精华神帖](/tag/%E7%B2%BE%E5%8D%8E%E7%A5%9E%E5%B8%96)
*   [所有标签](/tags)

消息

*   [收件箱](/u/niyan2025/messages)

*   [我的消息串](/chat/threads "我的消息串")

频道

*   [常规频道](/chat/c/general/2 "🈲 禁止在聊天频道里发送 打卡 等无意义信息，被举报会喜提 禁言1小时 。")

直接消息

*    [![](https://cdn.linux.do/user_avatar/linux.do/wenjuhe/48/363901_2.png)  奇妙进化小河马🦛   ![](https://cdn.linux.do/images/emoji/twemoji/hippopotamus.png?v=14)](/chat/c/%E5%A5%87%E5%A6%99%E8%BF%9B%E5%8C%96%E5%B0%8F%E6%B2%B3%E9%A9%AC%F0%9F%A6%9B/45968 "与 奇妙进化小河马🦛 聊天") 
*    [![](https://cdn.linux.do/user_avatar/linux.do/huan/48/293194_2.png)  焕昭君](/chat/c/%E7%84%95%E6%98%AD%E5%90%9B/43057 "与 焕昭君 聊天") 
*    [![](https://cdn.linux.do/user_avatar/linux.do/xronus/48/130867_2.png)  Anivix](/chat/c/anivix/32458 "与 Anivix 聊天") 

聊天

Default

​ ​ ​

**真诚**、**友善**、**团结**、**专业**，共建你我引以为荣之社区。[《常见问题解答》](/faq)

[

❤️ 再忍不住，也不要做这种事啊 ❤️

](https://linux.do/t/topic/482293)

[gemini-balance的docker-compose部署方式](/t/topic/617506)


======================================================

[搞七捻三](/c/gossip/11)

[搞七捻三, Lv1](/c/gossip/gossip-lv1/35)

[人工智能](/tag/人工智能)

,[Gemini](/tag/gemini)

您已选择 **0** 个帖子。

全选

取消选择

668 浏览量 287 赞 5 链接 20 用户

 [![](https://cdn.linux.do/letter_avatar/2ui/96/5_d44a9b381edc88181525e3c8350177ca.png)
 6](/u/2ui "2ui") 

 [![](https://cdn.linux.do/user_avatar/linux.do/snaily/96/611992_2.png)
 6](/u/snaily "snaily")

 [![](https://cdn.linux.do/user_avatar/linux.do/user11/96/372817_2.png)
 3](/u/user11 "user11") 

 [![](https://cdn.linux.do/user_avatar/linux.do/slashkkk/96/311558_2.png)
 2](/u/slashkkk "slashkkk") 

 [![](https://cdn.linux.do/user_avatar/linux.do/wwow/96/545077_2.png)](/u/wwow "wwow") 

​

[5月 2 日](/t/topic/617506/1 "跳到第一个帖子")

23 / 33

5月 5 日

[32 分钟](/t/topic/617506/33)

​

[![](https://cdn.linux.do/letter_avatar/2ui/96/5_d44a9b381edc88181525e3c8350177ca.png)
](/u/2ui)

[2ui](/u/2ui)

一元复始

14

[3 天](/t/topic/617506?u=niyan2025 "发布日期")

![](https://cdn.linux.do/user_avatar/linux.do/snaily/48/611992_2.png)
 [gemini-balance部署文档（huggingface版本）](https://linux.do/t/topic/592955)

[搞七捻三, Lv1](/c/gossip/gossip-lv1/35)

> 之前的gemini-balance系列内容繁多且复杂，使许多新用户感到困惑。因此，我花时间进行了整理，编写了更为详细的部署文档。 文档地址：[https://gb-docs.snaily.top](https://gb-docs.snaily.top)
> 
> 感谢 [@slashkkk![](https://cdn.ldstatic.com/original/3X/4/9/494acbbf0289fd91fc9c693d162d94e603df6f1b.png?v=14)
> ](/u/slashkkk)
> 
> 佬的claw和render部署教程

感谢 [@snaily![](https://cdn.linux.do/images/emoji/twemoji/cn.png?v=14)
](/u/snaily)

，[@snaily![](https://cdn.linux.do/images/emoji/twemoji/cn.png?v=14)
](/u/snaily)

是gemini-balance项目的作者， [官方Github仓库](https://github.com/snailyp/gemini-balance/)

，[官方文档站](https://gb-docs.snaily.top)

  
这是一些相关的话题，附在这里，方便参考使用：  
HF、ClawCloud、Render部署方式：

![](https://cdn.linux.do/user_avatar/linux.do/snaily/48/611992_2.png)
 [gemini-balance部署文档（huggingface版本）](https://linux.do/t/topic/592955)

[搞七捻三, Lv1](/c/gossip/gossip-lv1/35)

> 之前的gemini-balance系列内容繁多且复杂，使许多新用户感到困惑。因此，我花时间进行了整理，编写了更为详细的部署文档。 文档地址：[https://gb-docs.snaily.top](https://gb-docs.snaily.top)
> 
> 感谢 [@slashkkk![](https://cdn.ldstatic.com/original/3X/4/9/494acbbf0289fd91fc9c693d162d94e603df6f1b.png?v=14)
> ](/u/slashkkk)
> 
> 佬的claw和render部署教程

![](https://cdn.linux.do/user_avatar/linux.do/leileio/48/401878_2.png)
 [准备搭一下周杰伦的gemini balance，应该用哪种方式部署比较简单比较好呀？？？](https://linux.do/t/topic/621962)

[搞七捻三, Lv1](/c/gossip/gossip-lv1/35)

> 我看github上 杰伦写的是推荐用 docker？？？ [\[CleanShot 2025-05-05 at 6 .28.58@2x\]](https://cdn.ldstatic.com/original/4X/4/8/9/489445e3649336c9d6111f77ca6eaf8839de6758.png "CleanShot 2025-05-05 at 6 .28.58@2x")
> 
> 这个docker包含了什么数据库这类的东西了吗？？？ 论坛里 杰伦还写了个 抱脸的教程，抱脸那个要自己注册aiven，但是是图文教程，看着步骤有点多，但感觉还好，毕竟不用自己的vps 佬们，你们都是怎么部署的呀？？？？

* * *

补：是我疏忽了，官方Github其实有docker-compose.yml文件了，我已经修改帖子了加入了，这里只是**补充详细一下初级部署步骤**。  
补：之前那个集成式的 `docker-compose.yml` 省略env文件可能更简单一些，我已将该版本重新添加回来 ![](https://cdn.linux.do/images/emoji/twemoji/grinning_face.png?v=14)

![](https://cdn.linux.do/user_avatar/linux.do/snaily/48/611992_2.png)
 snaily:

> 佬友这套挺好的，我比较喜欢你这套，仓库那套很多小白用会出错，我还想着改来着的，建议佬改回原来版本 ![](https://cdn.linux.do/images/emoji/twemoji/smiling_face_with_three_hearts.png?v=14)

* * *

[](#p-5580729-h-1)正文
====================

借助docker-compose可以在**VPS**上快速部署gemini-balance和数据库，非severless部署。

需要：一台安装好Docker和Docker compose的VPS

```


`# 创建项目目录
mkdir gemini-balance
# 进入目录
cd gemini-balance
# 创建并编辑 docker-compose.yml 文件
vim docker-compose.yml
# 创建并编辑 .env 文件（如果选择方式一）
vim .env` 
```

往文件中贴入以下内容，两个版本均可：

[](#p-5580729-h-2)方式一：使用官方仓库版本
==============================

docker-compose.yml

[github.com/snailyp/gemini-balance](https://github.com/snailyp/gemini-balance/blob/main/docker-compose.yml)

#### [docker-compose.yml](https://github.com/snailyp/gemini-balance/blob/main/docker-compose.yml)

[`main`](https://github.com/snailyp/gemini-balance/blob/main/docker-compose.yml)

```null
volumes:
  mysql_data:
services:
  gemini-balance:
    image: ghcr.io/snailyp/gemini-balance:latest
    container_name: gemini-balance
    restart: unless-stopped
    ports:
      - "8000:8000"
    env_file:
      - .env
    depends_on:
      mysql:
        condition: service_healthy
    healthcheck:
      test: ["CMD-SHELL", "python -c \"import requests; exit(0) if requests.get('http://localhost:8000/health').status_code == 200 else exit(1)\""]
      interval: 30s
      timeout: 5s
      retries: 3
      start_period: 10s

```

此文件已被截断。 [显示原始文件](https://github.com/snailyp/gemini-balance/blob/main/docker-compose.yml)

.env

[github.com/snailyp/gemini-balance](https://github.com/snailyp/gemini-balance/blob/main/.env.example)

#### [.env.example](https://github.com/snailyp/gemini-balance/blob/main/.env.example)

[`main`](https://github.com/snailyp/gemini-balance/blob/main/.env.example)

```
# MySQL数据库配置
MYSQL_HOST=gemini-balance-mysql
MYSQL_PORT=3306
MYSQL_USER=gemini
MYSQL_PASSWORD=change_me
MYSQL_DATABASE=default_db
API_KEYS=["AIzaSyxxxxxxxxxxxxxxxxxxx","AIzaSyxxxxxxxxxxxxxxxxxxx"]
ALLOWED_TOKENS=["sk-123456"]
AUTH_TOKEN=sk-123456
TEST_MODEL=gemini-1.5-flash
THINKING_MODELS=["gemini-2.5-flash-preview-04-17"]
THINKING_BUDGET_MAP={"gemini-2.5-flash-preview-04-17": 4000}
IMAGE_MODELS=["gemini-2.0-flash-exp"]
SEARCH_MODELS=["gemini-2.0-flash-exp","gemini-2.0-pro-exp"]
FILTERED_MODELS=["gemini-1.0-pro-vision-latest", "gemini-pro-vision", "chat-bison-001", "text-bison-001", "embedding-gecko-001"]
TOOLS_CODE_EXECUTION_ENABLED=false
SHOW_SEARCH_LINK=true
SHOW_THINKING_PROCESS=true
BASE_URL=https://generativelanguage.googleapis.com/v1beta
MAX_FAILURES=10

```

此文件已被截断。 [显示原始文件](https://github.com/snailyp/gemini-balance/blob/main/.env.example)

[](#p-5580729-env-3)方式二：使用集成式版本（省去配置.env）
=========================================

```


`version: '3.8'

x-variables:
  # !! 在此处统一设置数据库密码，方便修改!!
  db_root_password: &db_root_password 'YOUR_STRONG_ROOT_PASSWORD' # MySQL Root 密码
  db_user_password: &db_user_password 'YOUR_STRONG_USER_PASSWORD' # MySQL User 密码
  db_name: &db_name 'gemini_balance_db'    # 数据库名
  db_user: &db_user 'gemini_user'    # 数据库用户名

services:

  app:
    image: 'ghcr.io/snailyp/gemini-balance:latest'
    container_name: gemini_balance_app
    restart: unless-stopped
    ports:
      - "7770:8000"  # 端口映射 (宿主机端口:容器内端口)
    environment:
      #数据库（在最上方统一设置）
      MYSQL_HOST: 'db'
      MYSQL_PORT: '3306'
      MYSQL_USER: *db_user
      MYSQL_PASSWORD: *db_user_password
      MYSQL_DATABASE: *db_name

      API_KEYS: '["GEMINI_API_KEY_1","GEMINI_API_KEY_2"]' # 修改为你自己的 Gemini API Key (可放多个)
      ALLOWED_TOKENS: '["ALLOWED_TOKEN_1","ALLOWED_TOKEN_2"]' # 修改为允许访问服务的 Token 
      AUTH_TOKEN: 'SUPER_ADMIN_TOKEN'                           # 修改为超级管理员 Token 

      TEST_MODEL: 'gemini-1.5-flash'           # 默认测试模型
      TIMEZONE: 'Asia/Shanghai'                # 时区设置
      LOG_LEVEL: 'INFO'                        # 日志级别 (如 DEBUG, INFO, WARNING, ERROR)
      MAX_FAILURES: 3                          # Key 连续失败多少次后禁用
      MAX_RETRIES: 3                           # API 请求重试次数
      CHECK_INTERVAL_HOURS: 1                  # 定时检查 Key 状态的间隔 (小时)
      TIME_OUT: 300                            # API 请求超时时间 (秒)

      # PAID_KEY: 'your-paid-api-key'           # 付费 Key (如果使用)
      # CREATE_IMAGE_MODEL: 'imagen-3.0-generate-002' # 图像生成模型
      # UPLOAD_PROVIDER: 'smms'                 # 图床服务商 (如 smms)
      # SMMS_SECRET_TOKEN: 'your-smms-token'    # SM.MS 图床 Token

    depends_on:
      db:
        condition: service_healthy
    networks:
      - gemini_net
    healthcheck:
      test: ["CMD-SHELL", "python -c \"import requests; exit(0) if requests.get('http://localhost:8000/health').status_code == 200 else exit(1)\""]
      interval: 30s
      timeout: 5s
      retries: 3
      start_period: 10s

  db:
    image: mysql:8
    container_name: gemini_balance_db
    restart: unless-stopped
    environment:
      #数据库（在最上方统一设置）
      MYSQL_ROOT_PASSWORD: *db_root_password
      MYSQL_DATABASE: *db_name
      MYSQL_USER: *db_user
      MYSQL_PASSWORD: *db_user_password
    volumes:
      - mysql_data:/var/lib/mysql   # 数据卷，数据库数据
    networks:
      - gemini_net
    healthcheck:
      # 健康检查，确保数据库正常运行后 app 再启动
      test: ["CMD-SHELL", "mysqladmin ping -h localhost -u root -p\"$${MYSQL_ROOT_PASSWORD}\""]
      interval: 10s
      timeout: 5s
      retries: 5

volumes:
  mysql_data:

networks:
  gemini_net:
    driver: bridge` 
```

粘贴后，如果用的是方式一，不要忘记根据注释修改 **.env中的密码、访问令牌**，和**yml文件里的端口**  
如果用的是方式二，根据注释修改**yml文件中的密码、访问令牌、端口**  
然后`:wq`保存（如果使用的是vim）  
（Gemini APIKEY等设置项可以稍后在网页中设置）

```


`# 启动服务
sudo docker compose up -d 
# 停止并移除
sudo docker compose down
# -v同时清除存储卷
# 注意：数据也会删除
sudo docker-compose down -v` 
```

**如果后期改数据库密码，需要-v清除存储卷（数据也会被清除），否则会密码不匹配无法连接到数据库，前端保存设置时报400。可能会踩坑。** 

启动后，你可以通过 `http://你的VPS_IP:设置的端口` 访问应用  

[![](https://cdn.ldstatic.com/optimized/4X/a/6/5/a654d8b86feda1bcb11922106544d1f154f3c121_2_517x318.jpeg)

image2302×1420 258 KB

](https://cdn.ldstatic.com/original/4X/a/6/5/a654d8b86feda1bcb11922106544d1f154f3c121.jpeg "image")

  
这个部署方式经测试可用，供大家参考。感谢 [@snaily![](https://cdn.linux.do/images/emoji/twemoji/cn.png?v=14)
](/u/snaily)

的项目和文档！

  

3 个回复

![](https://cdn.linux.do/images/emoji/twemoji/heart.png?v=14)

heart

![](https://cdn.linux.do/images/emoji/twemoji/+1.png?v=14)

+1

![](https://cdn.linux.do/images/emoji/twemoji/clap.png?v=14)

clap

![](https://cdn.ldstatic.com/original/3X/2/e/2e09f3a3c7b27eacbabe9e9614b06b88d5b06343.png?v=14)

tieba\_087

90

​ ​ 回复

668 浏览量 287 赞 5 链接 20 用户

 [![](https://cdn.linux.do/letter_avatar/2ui/96/5_d44a9b381edc88181525e3c8350177ca.png)
 6](/u/2ui "2ui") 

 [![](https://cdn.linux.do/user_avatar/linux.do/snaily/96/611992_2.png)
 6](/u/snaily "snaily")

 [![](https://cdn.linux.do/user_avatar/linux.do/user11/96/372817_2.png)
 3](/u/user11 "user11") 

 [![](https://cdn.linux.do/user_avatar/linux.do/slashkkk/96/311558_2.png)
 2](/u/slashkkk "slashkkk") 

 [![](https://cdn.linux.do/user_avatar/linux.do/wwow/96/545077_2.png)](/u/wwow "wwow") 

上次访问

[![](https://cdn.linux.do/user_avatar/linux.do/jessepinkman/96/579304_2.png)
](/u/Jessepinkman)

[Jesse](/u/Jessepinkman)

[Jessepinkman](/u/Jessepinkman)大预言家

[3 天](/t/topic/617506/2?u=niyan2025 "发布日期")

感谢佬友分享

  

44

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/snaily/96/611992_2.png)
](/u/snaily)

[snaily](/u/snaily)

大预言家 ![](https://cdn.linux.do/images/emoji/twemoji/cn.png?v=14) 

[3 天](/t/topic/617506/3?u=niyan2025 "发布日期")

感谢佬友分享，支持一下 ![](https://cdn.linux.do/images/emoji/twemoji/smiling_face_with_three_hearts.png?v=14)

  

![](https://cdn.linux.do/images/emoji/twemoji/heart.png?v=14)

heart

![](https://cdn.linux.do/images/emoji/twemoji/clap.png?v=14)

clap

![](https://cdn.ldstatic.com/original/3X/2/e/2e09f3a3c7b27eacbabe9e9614b06b88d5b06343.png?v=14)

tieba\_087

43

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/user11/96/372817_2.png)
](/u/user11)

[zwj](/u/user11)

[user11](/u/user11)一元复始

[3 天](/t/topic/617506/4?u=niyan2025 "发布日期")

感谢分享

  

40

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/zzz2/96/247663_2.png)
](/u/Zzz2)

[Zzz2](/u/Zzz2)

[3 天](/t/topic/617506/5?u=niyan2025 "发布日期")

牛逼了！

  

42

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/noospic/96/565210_2.png)
](/u/Noospic)

[Noospic](/u/Noospic)

一元复始 ![](https://cdn.linux.do/images/emoji/twemoji/cactus.png?v=14) 

[3 天](/t/topic/617506/6?u=niyan2025 "发布日期")

感谢佬友 ![](https://cdn.ldstatic.com/original/3X/2/7/27a55a1370c41f0736ba094bdc8866c6c2878c16.png?v=14)

  

7

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/fyzfly/96/128882_2.png)
](/u/fyzfly)

[沧海月](/u/fyzfly)

[fyzfly](/u/fyzfly)活跃用户

[3 天](/t/topic/617506/7?u=niyan2025 "发布日期")

感谢佬分享，不过拉取镜像失败呢

  

1 个回复

5

​ ​ 回复

[![](https://cdn.linux.do/letter_avatar/2ui/96/5_d44a9b381edc88181525e3c8350177ca.png)
](/u/2ui)

[2ui](/u/2ui)

一元复始

 ![](https://cdn.linux.do/user_avatar/linux.do/fyzfly/48/128882_2.png)
 沧海月

[3 天](/t/topic/617506/8?u=niyan2025 "发布日期")

抱歉，刚才docker-compose.yml中的镜像地址写错了，已经修正  
这次应该能正常拉取了，感谢指正！  

[![](https://cdn.ldstatic.com/optimized/4X/9/0/8/908541370fa7585797d2952af2c2a0f140d875cf_2_344x175.png)

image1212×618 93 KB

](https://cdn.ldstatic.com/original/4X/9/0/8/908541370fa7585797d2952af2c2a0f140d875cf.png "image")

  

5

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/kbtit_25/96/498354_2.png)
](/u/kbtit_25)

[kbtit\_25](/u/kbtit_25)

[3 天](/t/topic/617506/9?u=niyan2025 "发布日期")

感谢，需要

  

1

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/slashkkk/96/311558_2.png)
](/u/slashkkk)

[空气动力学](/u/slashkkk)

[slashkkk](/u/slashkkk)指导顾问 ![](https://cdn.ldstatic.com/original/3X/4/9/494acbbf0289fd91fc9c693d162d94e603df6f1b.png?v=14) 

[3 天](/t/topic/617506/10?u=niyan2025 "发布日期")

太帅了！

  

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/pla81/96/93669_2.png)
](/u/PLA81)

[PLA81](/u/PLA81)

浴火重生

[3 天](/t/topic/617506/11?u=niyan2025 "发布日期")

感谢大佬分享教程

  

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/wwow/96/545077_2.png)
](/u/wwow)

[樱悦](/u/wwow)

[wwow](/u/wwow)文化宣导员 ![](https://cdn.linux.do/images/emoji/twemoji/heartpulse.png?v=14) 

[3 天](/t/topic/617506/12?u=niyan2025 "发布日期")

进来学习，

  

​ ​ 回复

[![](https://cdn.linux.do/letter_avatar/2ui/96/5_d44a9b381edc88181525e3c8350177ca.png)
](/u/2ui)

[2ui](/u/2ui)

一元复始

1

[3 天](/t/topic/617506/13?u=niyan2025 "发布日期")

**如果要在docker-compose.yml改数据库密码，需要-v清除存储卷（数据也会被清除），否则会密码不匹配无法连接到数据库**，可能是一个坑  

[![](https://cdn.ldstatic.com/original/4X/9/b/c/9bcc9792031012482d86949e833e17bdf52bedfb.png)

image590×210 29.6 KB

](https://cdn.ldstatic.com/original/4X/9/b/c/9bcc9792031012482d86949e833e17bdf52bedfb.png "image")

  

1

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/handsome/96/477777_2.png)
](/u/handsome)

[大帅哥](/u/handsome)

[handsome](/u/handsome)种子用户 ![](https://cdn.linux.do/images/emoji/twemoji/rage.png?v=14) 

[3 天](/t/topic/617506/14?u=niyan2025 "发布日期")

太强了！

  

​ ​ 回复

[![](https://cdn.linux.do/letter_avatar/2ui/96/5_d44a9b381edc88181525e3c8350177ca.png)
](/u/2ui)

[2ui](/u/2ui)

一元复始

[3 天](/t/topic/617506/15?u=niyan2025 "发布日期")

是我疏忽了，官方Github其实有文件了，我已经修改帖子了，用官方的应该更好。

  

1 个回复

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/578382239/96/226770_2.png)
](/u/578382239)

[南山](/u/578382239)

[578382239](/u/578382239)一元复始

[3 天](/t/topic/617506/16?u=niyan2025 "发布日期")

感谢佬友分享

  

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/snaily/96/611992_2.png)
](/u/snaily)

[snaily](/u/snaily)

大预言家 ![](https://cdn.linux.do/images/emoji/twemoji/cn.png?v=14) 

 ![](https://cdn.linux.do/letter_avatar/2ui/48/5_d44a9b381edc88181525e3c8350177ca.png)
 2ui

[3 天](/t/topic/617506/17?u=niyan2025 "发布日期")

佬友这套挺好的，我比较喜欢你这套，仓库那套很多小白用会出错，我还想着改来着的，建议佬改回原来版本 ![](https://cdn.linux.do/images/emoji/twemoji/smiling_face_with_three_hearts.png?v=14)

  

3 个回复

​ ​ 回复

[![](https://cdn.linux.do/letter_avatar/2ui/96/5_d44a9b381edc88181525e3c8350177ca.png)
](/u/2ui)

[2ui](/u/2ui)

一元复始

 ![](https://cdn.linux.do/user_avatar/linux.do/snaily/48/611992_2.png)
 snaily

[2 天](/t/topic/617506/18?u=niyan2025 "发布日期")

感谢佬友的认可和建议 ![](https://cdn.linux.do/images/emoji/twemoji/smiling_face_with_three_hearts.png?v=14)
 我已经把之前那个集成式的文件重新加到主贴里了

  

![](https://cdn.linux.do/images/emoji/twemoji/clap.png?v=14)

clap

1

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/xieyang/96/359148_2.png)
](/u/xieyang)

[Mras](/u/xieyang)

[xieyang](/u/xieyang)活跃用户

[2 天](/t/topic/617506/19?u=niyan2025 "发布日期")

这页面挺好看的啊

  

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/oislfy/96/275105_2.png)
](/u/oislfy)

[春庭听雪](/u/oislfy)

[oislfy](/u/oislfy)

[2 天](/t/topic/617506/20?u=niyan2025 "发布日期")

太强了佬

  

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/heiyu/96/307334_2.png)
](/u/heiyu)

[heiyu](/u/heiyu)

一元复始

[3 小时](/t/topic/617506/21?u=niyan2025 "发布日期")

感谢佬的分享 ![](https://cdn.linux.do/images/emoji/twemoji/smiling_face_with_three_hearts.png?v=14)

  

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/inliver/96/133175_2.png)
](/u/inliver)

[inliver](/u/inliver)

浴火重生

[3 小时](/t/topic/617506/22?u=niyan2025 "发布日期")

进来学习佬友

  

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/leileio/96/401878_2.png)
](/u/leileio)

[雷雷](/u/leileio)

[leileio](/u/leileio)活跃用户

[3 小时](/t/topic/617506/23?u=niyan2025 "发布日期")

![](https://cdn.linux.do/letter_avatar/2ui/48/5_d44a9b381edc88181525e3c8350177ca.png)
 2ui:

> 如果后期改数据库密码，需要-v清除存储卷（数据也会被清除），否则会密码不匹配无法连接到数据库，前端保存设置时报400。可能会踩坑。

谢谢佬，，所以，对于小白 推荐用方式二 对吧？？

正好我刚刚问了怎么部署的问题 ![](https://cdn.linux.do/images/emoji/twemoji/slightly_smiling_face.png?v=14)
 ![](https://cdn.linux.do/images/emoji/twemoji/slightly_smiling_face.png?v=14)

上面这个引用，我第一次就把它设置好了，就不改了，就可以避免这个坑了哈？？？

  

1 个回复

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/user11/96/372817_2.png)
](/u/user11)

[zwj](/u/user11)

[user11](/u/user11)一元复始

 ![](https://cdn.linux.do/user_avatar/linux.do/snaily/48/611992_2.png)
 snaily

[2 小时](/t/topic/617506/24?u=niyan2025 "发布日期")

佬，我用docker搭建的gemini-balance，cherry studio里API地址怎么填呀

  

2 个回复

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/naihetian/96/562243_2.png)
](/u/naihetian)

[奈何天](/u/naihetian)

[naihetian](/u/naihetian)

 ![](https://cdn.linux.do/user_avatar/linux.do/user11/48/372817_2.png)
 zwj

[2 小时](/t/topic/617506/25?u=niyan2025 "发布日期")

直接填你进入gemini-balance的网址就行了吧

  

1

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/snaily/96/611992_2.png)
](/u/snaily)

[snaily](/u/snaily)

大预言家 ![](https://cdn.linux.do/images/emoji/twemoji/cn.png?v=14) 

 ![](https://cdn.linux.do/user_avatar/linux.do/user11/48/372817_2.png)
 zwj

[2 小时](/t/topic/617506/26?u=niyan2025 "发布日期")

填网址就行了 ![](https://cdn.ldstatic.com/original/3X/2/e/2e09f3a3c7b27eacbabe9e9614b06b88d5b06343.png?v=14)

  

1 个回复

![](https://cdn.ldstatic.com/original/3X/2/e/2e09f3a3c7b27eacbabe9e9614b06b88d5b06343.png?v=14)

tieba\_087

1

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/user11/96/372817_2.png)
](/u/user11)

[zwj](/u/user11)

[user11](/u/user11)一元复始

 ![](https://cdn.linux.do/user_avatar/linux.do/snaily/48/611992_2.png)
 snaily

[1 小时](/t/topic/617506/27?u=niyan2025 "发布日期")

是这样吗，[http://服务器地址:8000/v1，提供商类型选openai还是Gemini呢](http://xn--zfru1gfr6bz63i:8000/v1%EF%BC%8C%E6%8F%90%E4%BE%9B%E5%95%86%E7%B1%BB%E5%9E%8B%E9%80%89openai%E8%BF%98%E6%98%AFGemini%E5%91%A2)

  

2 个回复

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/throttle/96/622613_2.png)
](/u/Throttle)

[方块](/u/Throttle)

[Throttle](/u/Throttle)指导顾问

[1 小时](/t/topic/617506/28?u=niyan2025 "发布日期")

学到了！

  

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/snaily/96/611992_2.png)
](/u/snaily)

[snaily](/u/snaily)

大预言家 ![](https://cdn.linux.do/images/emoji/twemoji/cn.png?v=14) 

 ![](https://cdn.linux.do/user_avatar/linux.do/user11/48/372817_2.png)
 zwj

[1 小时](/t/topic/617506/29?u=niyan2025 "发布日期")

不用加/v1，cherry都帮你补好了，两种格式都支持的，随便用哪个

  

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/slashkkk/96/311558_2.png)
](/u/slashkkk)

[空气动力学](/u/slashkkk)

[slashkkk](/u/slashkkk)指导顾问 ![](https://cdn.ldstatic.com/original/3X/4/9/494acbbf0289fd91fc9c693d162d94e603df6f1b.png?v=14) 

 ![](https://cdn.linux.do/user_avatar/linux.do/user11/48/372817_2.png)
 zwj

[1 小时](/t/topic/617506/30?u=niyan2025 "发布日期")

拿流产项目回答一下。  

[![](https://cdn.ldstatic.com/optimized/4X/a/1/4/a14fa45d6e20cf78d311b98fa27e14e404325655_2_690x474.jpeg)

image1704×1172 266 KB

](https://cdn.ldstatic.com/original/4X/a/1/4/a14fa45d6e20cf78d311b98fa27e14e404325655.jpeg "image")

  

1 个回复

![](https://cdn.linux.do/images/emoji/twemoji/clap.png?v=14)

clap

![](https://cdn.linux.do/images/emoji/twemoji/laughing.png?v=14)

laughing

2

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/snaily/96/611992_2.png)
](/u/snaily)

[snaily](/u/snaily)

大预言家 ![](https://cdn.linux.do/images/emoji/twemoji/cn.png?v=14) 

 ![](https://cdn.linux.do/user_avatar/linux.do/slashkkk/48/311558_2.png)
 空气动力学

[1 小时](/t/topic/617506/31?u=niyan2025 "发布日期")

太强了曾佬 ![](https://cdn.ldstatic.com/original/3X/2/e/2e09f3a3c7b27eacbabe9e9614b06b88d5b06343.png?v=14)

  

![](https://cdn.ldstatic.com/original/3X/2/e/2e09f3a3c7b27eacbabe9e9614b06b88d5b06343.png?v=14)

tieba\_087

2

​ ​ 回复

[![](https://cdn.linux.do/letter_avatar/2ui/96/5_d44a9b381edc88181525e3c8350177ca.png)
](/u/2ui)

[2ui](/u/2ui)

一元复始

 ![](https://cdn.linux.do/user_avatar/linux.do/leileio/48/401878_2.png)
 雷雷

[37 分钟](/t/topic/617506/32?u=niyan2025 "发布日期")

应该是的  
因为，如果初始化过，数据库就不会按照配置重新初始化。删了存储卷可以强制重新初始化，但数据丢了。感觉应该有能保数据改密码的方法

  

1 个回复

​ ​ 回复

[![](https://cdn.linux.do/user_avatar/linux.do/snaily/96/611992_2.png)
](/u/snaily)

[snaily](/u/snaily)

大预言家

[跳到帖子](/t/topic/617506/33 "跳到帖子的原始位置")

可以单独重启app服务，不去重启mysql容器，数据有问题的话，可以进入mysql容器里面修改 ![](https://cdn.ldstatic.com/original/3X/2/e/2e09f3a3c7b27eacbabe9e9614b06b88d5b06343.png?v=14)

  

[![](https://cdn.linux.do/user_avatar/linux.do/snaily/96/611992_2.png)
](/u/snaily)

[snaily](/u/snaily)

大预言家 ![](https://cdn.linux.do/images/emoji/twemoji/cn.png?v=14) 

 ![](https://cdn.linux.do/letter_avatar/2ui/48/5_d44a9b381edc88181525e3c8350177ca.png)
 2ui

[32 分钟](/t/topic/617506/33?u=niyan2025 "发布日期")

可以单独重启app服务，不去重启mysql容器，数据有问题的话，可以进入mysql容器里面修改 ![](https://cdn.ldstatic.com/original/3X/2/e/2e09f3a3c7b27eacbabe9e9614b06b88d5b06343.png?v=14)

  

![](https://cdn.linux.do/images/emoji/twemoji/heart.png?v=14)

heart

![](https://cdn.ldstatic.com/original/3X/2/e/2e09f3a3c7b27eacbabe9e9614b06b88d5b06343.png?v=14)

tieba\_087

2

​ ​ 回复

### 此话题将在最后一个回复的1 个月后关闭。

分享 加入书签 举报

回复

已取消置顶

​

此话题已对您取消置顶；它将以常规顺序显示

常规 您会在别人 @ 您或回复您时收到通知。

  

[

👕 岂曰无衣？与子同袍 👕️

](https://linux.do/t/topic/585559)

*   推荐
*   相关

### 新话题和未读话题

话题列表，带有按钮的列标题可以排序。
| 话题 | 回复 | 浏览量 | 活动 |
| --- | --- | --- | --- |
| [![](https://cdn.linux.do/images/emoji/twemoji/fire.png?v=14)
我也薅到GCP300$了！一次成功,爽！！！附一针见血简单教程](/t/topic/559751/179)

 [38](/t/topic/559751/179 "您在此话题中有 38 个未读帖子")

[搞七捻三, Lv1](/c/gossip/gossip-lv1/35)

[人工智能](/tag/人工智能)

,[作品集](/tag/作品集)

,[Gemini](/tag/gemini)

,[Google](/tag/google)

,[GCP](/tag/gcp)





 | [214](/t/topic/559751/1) | 6.3k | [3 小时](/t/topic/559751/216) |
| [【已更新修复掉试用问题】可以没用不能没有之我也要搞个 Cursor 体验客户端](/t/topic/434192/196)

 [458](/t/topic/434192/196 "您在此话题中有 458 个未读帖子")

[搞七捻三, Lv1](/c/gossip/gossip-lv1/35)

[人工智能](/tag/人工智能)

,[Cursor](/tag/cursor)





 | [642](/t/topic/434192/1) | 18.9k | [1 天](/t/topic/434192/653) |
| [AI编程插件Augment已经更新了Plan和注册方式(TL;DR:可以白嫖了)](/t/topic/533259/12)

 [44](/t/topic/533259/12 "您在此话题中有 44 个未读帖子")

[搞七捻三, Lv1](/c/gossip/gossip-lv1/35)

[人工智能](/tag/人工智能)





 | [51](/t/topic/533259/1) | 2.0k | [12 天](/t/topic/533259/55) |
| [【招生通知】吉尔吉斯斯坦国立医科大学第二批招生开放](/t/topic/463186/1869)

 [96](/t/topic/463186/1869 "您在此话题中有 96 个未读帖子")

[搞七捻三, Lv1](/c/gossip/gossip-lv1/35)

[纯水](/tag/纯水)





 | [1.9k](/t/topic/463186/1) | 18.2k | [13 天](/t/topic/463186/1964) |
| [asu.edu的申请教程有没？还需要缴费吗](/t/topic/547297/50)

 [1](/t/topic/547297/50 "您在此话题中有 1 个未读帖子")

[搞七捻三, Lv1](/c/gossip/gossip-lv1/35)

[快问快答](/tag/快问快答)

,[人工智能](/tag/人工智能)

,[OpenAI](/tag/openai)





 | [45](/t/topic/547297/1) | 3.0k | [15 天](/t/topic/547297/50) |

### 有 [60 个未读](/unread)

话题 和 [118 个新](/new)

话题， 或浏览[搞七捻三, Lv1](/c/gossip/gossip-lv1/35)

中的其他话题

Invalid date Invalid date

Settings
========

🏷️ UTags - Add usertags to links

Other Extensions
----------------

[🔗 Links Helper](https://greasyfork.org/en/scripts/464541-links-helper)

[V2EX.REP - 专注提升 V2EX 主题回复浏览体验](https://greasyfork.org/en/scripts/466589-v2ex-rep-%E4%B8%93%E6%B3%A8%E6%8F%90%E5%8D%87-v2ex-%E4%B8%BB%E9%A2%98%E5%9B%9E%E5%A4%8D%E6%B5%8F%E8%A7%88%E4%BD%93%E9%AA%8C)

[v2ex.min - V2EX Minimalist (极简风格)](https://greasyfork.org/en/scripts/463552-v2ex-min-v2ex-%E6%9E%81%E7%AE%80%E9%A3%8E%E6%A0%BC)

[Replace Ugly Avatars](https://greasyfork.org/en/scripts/472616-replace-ugly-avatars)

↑↓⇔⇧⇩