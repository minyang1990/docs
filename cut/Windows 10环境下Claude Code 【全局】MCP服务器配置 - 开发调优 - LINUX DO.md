# Windows 10环境下Claude Code 【全局】MCP服务器配置 - 开发调优 - LINUX DO
[Windows 10环境下Claude Code 【全局】MCP服务器配置 - 开发调优 - LINUX DO](https://linux.do/t/topic/784060/5) 

  Windows 10环境下Claude Code 【全局】MCP服务器配置 - 开发调优 - LINUX DO                                             

[跳到主要内容](#main-container)

 [![](https://linux.do/uploads/default/original/3X/9/d/9dd49731091ce8656e94433a26a3ef36062b3994.png)](/) 

[Windows 10环境下Claude Code 【全局】MCP服务器配置](/t/topic/784060)
========================================================

[开发调优](/c/develop/4)

[人工智能](/tag/人工智能)

*   ​

*    ![](https://linux.do/letter_avatar/niyan2025/96/5_d44a9b381edc88181525e3c8350177ca.png)
       [ 3 ](# "3 个未读通知") 

*   [话题](/latest "所有话题")
*   [我的帖子](/u/niyan2025/activity/drafts "我的未发布草稿")
*   [My messages](/u/niyan2025/messages "我的消息")
*   [关于](/about "关于此网站的更多详细信息")
*   [即将到来的活动](/upcoming-events "即将到来的活动")
*   更多

外部链接

*   [2048](https://2048.linux.do)
*   [Status](https://status.linux.do)
*   [T-Shirt](https://shanwaiyoushan.taobao.com)
*   [Connect](https://connect.linux.do)
*   [Webmail](https://webmail.linux.do)
*   [Channel](https://t.me/linux_do_channel)
*   [Telegram](https://t.me/ja_netfilter_group)

类别

*   [开发调优](/c/develop/4 "此版块包含开发、测试、调试、部署、优化、安全等方面的内容")
*   [资源荟萃](/c/resource/14 "包括软件分享、开源仓库、视频课程、书籍等分享")
*   [文档共建](/c/wiki/42 "佬友化身翰林学士，一起来编书了。")
*   [非我莫属](/c/job/27 "学成文武艺，货与帝王家。招聘/求职分类，只能发此类信息。")
*   [读书成诗](/c/reading/32 "跟着佬友们一起在论坛读完一本书是什么体验？")
*   [扬帆起航](/c/startup/46 "扬帆起航，目标是星辰大海！")
*   [前沿快讯](/c/news/34 "前沿快讯，不出门能知天下事。")
*   [网络记忆](/c/feeds/92 "网络是有记忆的，确信！")
*   [福利羊毛](/c/welfare/36 "正经人谁花那个钱啊～ 此版块供羊毛、抽奖等福利使用。")
*   [搞七捻三](/c/gossip/11 "闲聊吹水的板块。不得讨论政治、色情等违规内容。")
*   [运营反馈](/c/feedback/2 "有关此站点、其组织、运作方式以及如何改进的讨论。")
*   [深海幽域](/c/muted/45 "冰山下的深海。帖子不会上信息流、不会被论坛搜索。")
*   [所有类别](/categories)

标签

*   [人工智能](/tag/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD)
*   [公告](/tag/%E5%85%AC%E5%91%8A)
*   [快问快答](/tag/%E5%BF%AB%E9%97%AE%E5%BF%AB%E7%AD%94)
*   [抽奖](/tag/%E6%8A%BD%E5%A5%96)
*   [精华神帖](/tag/%E7%B2%BE%E5%8D%8E%E7%A5%9E%E5%B8%96)
*   [所有标签](/tags)

*   [我的消息串](/chat/threads "我的消息串")

频道

*   [常规频道](/chat/c/general/2 "🈲 禁止在聊天频道里发送 打卡 等无意义信息，被举报会喜提 禁言1小时 。")

直接消息

*    [![](https://linux.do/user_avatar/linux.do/xronus/48/130867_2.png)  𝒜𝓃𝒾𝓋𝒾𝓍](/chat/c/%F0%9D%92%9C%F0%9D%93%83%F0%9D%92%BE%F0%9D%93%8B%F0%9D%92%BE%F0%9D%93%8D/32458 "与 𝒜𝓃𝒾𝓋𝒾𝓍 聊天") 
*    [![](https://linux.do/user_avatar/linux.do/huan/48/293194_2.png)  焕昭君](/chat/c/%E7%84%95%E6%98%AD%E5%90%9B/43057 "与 焕昭君 聊天") 
*    [![](https://linux.do/user_avatar/linux.do/wenjuhe/48/672301_2.png)  奇妙进化小河马🦛   ![](https://linux.do/images/emoji/twemoji/hippopotamus.png?v=14)](/chat/c/%E5%A5%87%E5%A6%99%E8%BF%9B%E5%8C%96%E5%B0%8F%E6%B2%B3%E9%A9%AC%F0%9F%A6%9B/45968 "与 奇妙进化小河马🦛 聊天") 

聊天

Default

​ ​ ​

**真诚**、**友善**、**团结**、**专业**，共建你我引以为荣之社区。[《常见问题解答》](/faq)

[

❤️ 再忍不住，也不要做这种事啊 ❤️

](https://linux.do/t/topic/482293)

[Windows 10环境下Claude Code 【全局】MCP服务器配置](/t/topic/784060)
========================================================

[开发调优](/c/develop/4)

[人工智能](/tag/人工智能)

您已选择 **0** 个帖子。

全选

取消选择

187 浏览量 13 赞 1 链接 6 用户

 [![](https://linux.do/letter_avatar/icsh.info/96/5_d44a9b381edc88181525e3c8350177ca.png)
 3](/u/Icsh.info "Icsh.info") 

 [![](https://linux.do/user_avatar/linux.do/richardchou/96/306492_2.png)](/u/RichardChou "RichardChou") 

 [![](https://linux.do/user_avatar/linux.do/handsome/96/736205_2.png)](/u/handsome "handsome") 

 [![](https://linux.do/letter_avatar/johnwick/96/5_d44a9b381edc88181525e3c8350177ca.png)](/u/johnwick "johnwick") 

 [![](https://linux.do/user_avatar/linux.do/nerokim/96/114173_2.png)](/u/nerokim "nerokim") 

​

[7月 13 日](/t/topic/784060/1 "跳到第一个帖子")

5 / 9

7月 13 日

[1 分钟](/t/topic/784060/10)

​

[![](https://linux.do/letter_avatar/icsh.info/96/5_d44a9b381edc88181525e3c8350177ca.png)
](/u/Icsh.info)

[Icsh.info](/u/Icsh.info)

1

[11 小时](/t/topic/784060?u=niyan2025 "发布日期")

Windows兼容性问题的核心解决方案是修改MCP服务器的启动命令格式：

 **![](https://linux.do/images/emoji/twemoji/cross_mark.png?v=14)
 原始格式（Linux/macOS）：** 

```


 `{

"command": "npx",

"args": ["@upstash/context7-mcp"]

}` 
```

 **![](https://linux.do/images/emoji/twemoji/white_check_mark.png?v=14)
 Windows兼容格式：** 

```


 `{

"command": "cmd",

"args": ["/c", "npx", "@upstash/context7-mcp"]

}` 
```

### [](#p-7218226-h-1mcp-1)步骤1：安装全局MCP服务器包

首先安装所需的MCP服务器包到全局环境：

```


 `# 安装Context7 - 上下文感知服务

npm install -g @upstash/context7-mcp

# 安装Memory - 知识图谱服务

npm install -g @modelcontextprotocol/server-memory

# 安装Sequential Thinking - 思维链服务

npm install -g @modelcontextprotocol/server-sequential-thinking

# 安装Playwright - 浏览器自动化服务

npm install -g @executeautomation/playwright-mcp-server

# 安装Shrimp Task Manager - 任务管理服务

npm install -g mcp-shrimp-task-manager` 
```

> ![](https://linux.do/images/emoji/twemoji/light_bulb.png?v=14)
>  **提示**：安装过程可能需要几分钟，请耐心等待。

### [](#p-7218226-h-2mcp-2)步骤2：清理现有MCP配置（可选）

移除可能存在的冲突配置：

```


 `# 移除现有MCP服务器配置

claude mcp remove context7

claude mcp remove memory

claude mcp remove sequential-thinking

claude mcp remove playwright

claude mcp remove shrimp-task-manager` 
```

> ![](https://linux.do/images/emoji/twemoji/memo.png?v=14)
>  **说明**：如果某个服务器不存在，命令会显示相应信息，这是正常的。

### [](#p-7218226-h-3mcp-3)步骤3：添加全局MCP配置

使用Windows兼容的cmd格式直接添加MCP服务器：

```


 `# 添加Context7服务器

claude mcp add context7 "cmd" "/c" "npx" "@upstash/context7-mcp" --scope user

# 添加Memory服务器

claude mcp add memory "cmd" "/c" "npx" "@modelcontextprotocol/server-memory" --scope user

# 添加Sequential Thinking服务器

claude mcp add sequential-thinking "cmd" "/c" "npx" "@modelcontextprotocol/server-sequential-thinking" --scope user

# 添加Playwright服务器

claude mcp add playwright "cmd" "/c" "npx" "@executeautomation/playwright-mcp-server" --scope user

# 添加Shrimp Task Manager服务器

claude mcp add shrimp-task-manager "cmd" "/c" "npx" "mcp-shrimp-task-manager" --scope user` 
```

### [](#p-7218226-h-4)一键配置脚本

```


`# Claude Code MCP One-Click Setup Script
# Windows 10 Environment - Fix MCP Connection Issues

param([switch]$SkipInstall, [switch]$Force)

Write-Host ""
Write-Host "============================================================================" -ForegroundColor Cyan
Write-Host "Claude Code MCP One-Click Setup Script" -ForegroundColor Green
Write-Host "Windows 10 Environment - Fix MCP Connection Issues" -ForegroundColor White
Write-Host "============================================================================" -ForegroundColor Cyan
Write-Host ""

# Check system environment
Write-Host "[INFO] Checking system environment..." -ForegroundColor Cyan

# Check Node.js
try {
    $nodeVersion = node --version 2>$null
    if ($nodeVersion) {
        Write-Host "[OK] Node.js version: $nodeVersion" -ForegroundColor Green
    } else {
        Write-Host "[ERR] Node.js not installed or not in PATH" -ForegroundColor Red
        exit 1
    }
} catch {
    Write-Host "[ERR] Node.js not installed or not in PATH" -ForegroundColor Red
    exit 1
}

# Check npm
try {
    $npmVersion = npm --version 2>$null
    if ($npmVersion) {
        Write-Host "[OK] npm version: $npmVersion" -ForegroundColor Green
    } else {
        Write-Host "[ERR] npm not installed or not in PATH" -ForegroundColor Red
        exit 1
    }
} catch {
    Write-Host "[ERR] npm not installed or not in PATH" -ForegroundColor Red
    exit 1
}

# Check Claude CLI
try {
    $claudeVersion = claude --version 2>$null
    if ($claudeVersion) {
        Write-Host "[OK] Claude CLI version: $claudeVersion" -ForegroundColor Green
    } else {
        Write-Host "[ERR] Claude CLI not installed or not in PATH" -ForegroundColor Red
        exit 1
    }
} catch {
    Write-Host "[ERR] Claude CLI not installed or not in PATH" -ForegroundColor Red
    exit 1
}

Write-Host ""

# Install MCP packages
if (-not $SkipInstall) {
    Write-Host "[WORK] Installing global MCP server packages..." -ForegroundColor Magenta
    
    $packages = @(
        "@upstash/context7-mcp",
        "@modelcontextprotocol/server-memory",
        "@modelcontextprotocol/server-sequential-thinking",
        "@executeautomation/playwright-mcp-server",
        "mcp-shrimp-task-manager"
    )
    
    foreach ($package in $packages) {
        Write-Host "[INFO] Installing $package..." -ForegroundColor Cyan
        try {
            npm install -g $package 2>$null
            if ($LASTEXITCODE -eq 0) {
                Write-Host "[OK] $package installed successfully" -ForegroundColor Green
            } else {
                Write-Host "[ERR] $package installation failed" -ForegroundColor Red
                if (-not $Force) { exit 1 }
            }
        } catch {
            Write-Host "[ERR] $package installation failed" -ForegroundColor Red
            if (-not $Force) { exit 1 }
        }
    }
} else {
    Write-Host "[WARN] Skipping npm installation step" -ForegroundColor Yellow
}

Write-Host ""

# Remove existing MCP configuration
Write-Host "[WORK] Removing existing MCP configuration..." -ForegroundColor Magenta

$servers = @("context7", "memory", "sequential-thinking", "playwright", "shrimp-task-manager")

foreach ($server in $servers) {
    try {
        claude mcp remove $server 2>$null
        Write-Host "[OK] Removed: $server" -ForegroundColor Green
    } catch {
        Write-Host "[INFO] Server $server does not exist or already removed" -ForegroundColor Cyan
    }
}

Write-Host ""

# Add MCP configuration
Write-Host "[WORK] Adding global MCP configuration..." -ForegroundColor Magenta

$mcpConfigs = @(
    @{Name="context7"; Package="@upstash/context7-mcp"},
    @{Name="memory"; Package="@modelcontextprotocol/server-memory"},
    @{Name="sequential-thinking"; Package="@modelcontextprotocol/server-sequential-thinking"},
    @{Name="playwright"; Package="@executeautomation/playwright-mcp-server"},
    @{Name="shrimp-task-manager"; Package="mcp-shrimp-task-manager"}
)

foreach ($config in $mcpConfigs) {
    try {
        Write-Host "[INFO] Configuring $($config.Name)..." -ForegroundColor Cyan
        claude mcp add $config.Name "cmd" "/c" "npx" $config.Package --scope user 2>$null
        if ($LASTEXITCODE -eq 0) {
            Write-Host "[OK] $($config.Name) configured successfully" -ForegroundColor Green
        } else {
            Write-Host "[ERR] $($config.Name) configuration failed" -ForegroundColor Red
            if (-not $Force) { exit 1 }
        }
    } catch {
        Write-Host "[ERR] $($config.Name) configuration failed" -ForegroundColor Red
        if (-not $Force) { exit 1 }
    }
}

Write-Host ""

# Verify configuration
Write-Host "[WORK] Verifying MCP configuration..." -ForegroundColor Magenta

try {
    $result = claude mcp list 2>&1
    if ($LASTEXITCODE -eq 0) {
        Write-Host "[INFO] MCP server list:" -ForegroundColor Cyan
        Write-Host $result -ForegroundColor White
    } else {
        Write-Host "[ERR] Failed to get MCP server list" -ForegroundColor Red
        Write-Host $result -ForegroundColor Red
    }
} catch {
    Write-Host "[ERR] Error verifying configuration" -ForegroundColor Red
}

# Show completion info
Write-Host ""
Write-Host "============================================================================" -ForegroundColor Green
Write-Host "[OK] Claude Code MCP configuration completed!" -ForegroundColor Green
Write-Host ""
Write-Host "Configured MCP servers:" -ForegroundColor Cyan
Write-Host "   鈥?context7: Context-aware service" -ForegroundColor White
Write-Host "   鈥?memory: Knowledge graph service" -ForegroundColor White
Write-Host "   鈥?sequential-thinking: Chain of thought service" -ForegroundColor White
Write-Host "   鈥?playwright: Browser automation service" -ForegroundColor White
Write-Host "   鈥?shrimp-task-manager: Task management service" -ForegroundColor White
Write-Host ""
Write-Host "Using Windows compatible format: cmd /c npx" -ForegroundColor Yellow
Write-Host ""
Write-Host "============================================================================" -ForegroundColor Green
Write-Host "[INFO] Please restart Claude Code or run 'claude --debug' to test connection" -ForegroundColor Cyan
Write-Host "============================================================================" -ForegroundColor Green

# Ask for connection test
Write-Host ""
$testConnection = Read-Host "Test MCP connection now? (y/N)"
if ($testConnection -eq "y" -or $testConnection -eq "Y") {
    Write-Host "[WORK] Starting Claude Code for connection test..." -ForegroundColor Magenta
    try {
        claude --debug
    } catch {
        Write-Host "[WARN] Error starting test, please manually run 'claude --debug'" -ForegroundColor Yellow
    }
}

Write-Host ""
Write-Host "[OK] Script execution completed! Thank you for using Claude Code MCP setup script!" -ForegroundColor Green
Write-Host ""` 
```

  

![](https://linux.do/images/emoji/twemoji/heart.png?v=14)

heart

![](https://linux.do/images/emoji/twemoji/+1.png?v=14)

+1

12

​ ​ 回复

*   [关于Windows原生运行claude code的问题](https://linux.do/t/topic/784087/3)

187 浏览量 13 赞 1 链接 6 用户

 [![](https://linux.do/letter_avatar/icsh.info/96/5_d44a9b381edc88181525e3c8350177ca.png)
 3](/u/Icsh.info "Icsh.info") 

 [![](https://linux.do/user_avatar/linux.do/richardchou/96/306492_2.png)](/u/RichardChou "RichardChou") 

 [![](https://linux.do/user_avatar/linux.do/handsome/96/736205_2.png)](/u/handsome "handsome") 

 [![](https://linux.do/letter_avatar/johnwick/96/5_d44a9b381edc88181525e3c8350177ca.png)](/u/johnwick "johnwick") 

 [![](https://linux.do/user_avatar/linux.do/nerokim/96/114173_2.png)](/u/nerokim "nerokim") 

[![](https://linux.do/letter_avatar/johnwick/96/5_d44a9b381edc88181525e3c8350177ca.png)
](/u/johnwick)

[johnwick](/u/johnwick)浴火重生

[11 小时](/t/topic/784060/2?u=niyan2025 "发布日期")

正需要 寸止能用吗

  

2 个回复

​ ​ 回复

[![](https://linux.do/user_avatar/linux.do/nerokim/96/114173_2.png)
](/u/nerokim)

[🍏네로🍎](/u/nerokim)[nerokim](/u/nerokim)

[10 小时](/t/topic/784060/3?u=niyan2025 "发布日期")

谢谢分享 ![](https://linux.do/images/emoji/twemoji/hand_with_index_finger_and_thumb_crossed.png?v=14)

  

​ ​ 回复

[![](https://linux.do/user_avatar/linux.do/richardchou/96/306492_2.png)
](/u/RichardChou)

[项太傅](/u/RichardChou)[RichardChou](/u/RichardChou)幸运佬

[10 小时](/t/topic/784060/4?u=niyan2025 "发布日期")

感谢分享

  

​ ​ 回复

[![](https://linux.do/letter_avatar/icsh.info/96/5_d44a9b381edc88181525e3c8350177ca.png)
](/u/Icsh.info)

[Icsh.info](/u/Icsh.info)

 ![](https://linux.do/letter_avatar/johnwick/48/5_d44a9b381edc88181525e3c8350177ca.png)
 johnwick

[10 小时](/t/topic/784060/5?u=niyan2025 "发布日期")

没用这个，我试一下  
应该是可以的

  

​ ​ 回复

[![](https://linux.do/letter_avatar/icsh.info/96/5_d44a9b381edc88181525e3c8350177ca.png)
](/u/Icsh.info)

[Icsh.info](/u/Icsh.info)

 ![](https://linux.do/letter_avatar/johnwick/48/5_d44a9b381edc88181525e3c8350177ca.png)
 johnwick

[10 小时](/t/topic/784060/7?u=niyan2025 "发布日期")

可以的  
需要你自己下载好 寸止，然后用：

> claude mcp add 寸止 “C:你的路径\\寸止.exe” --scope user

  

1

​ ​ 回复

[![](https://linux.do/user_avatar/linux.do/handsome/96/736205_2.png)
](/u/handsome)

[大帅哥](/u/handsome)[handsome](/u/handsome)种子用户 ![](https://linux.do/images/emoji/twemoji/rage.png?v=14) 

[2 小时](/t/topic/784060/8?u=niyan2025 "发布日期")

感谢大佬。

  

​ ​ 回复

[![](https://linux.do/user_avatar/linux.do/pennyjoly/96/490174_2.png)
](/u/pennyjoly)

[pennyjoly](/u/pennyjoly)一元复始

[1 小时](/t/topic/784060/9?u=niyan2025 "发布日期")

感谢大佬！！

  

​ ​ 回复

[![](https://linux.do/user_avatar/linux.do/kill/96/28242_2.png)
](/u/kill)

[悟空](/u/kill)[kill](/u/kill)浴火重生

[1 分钟](/t/topic/784060/10?u=niyan2025 "发布日期")

感谢大佬

  

​ ​ 回复

### 此话题将在最后一个回复的1 个月后关闭。

分享 加入书签 举报

回复

已取消置顶

​

此话题已对您取消置顶；它将以常规顺序显示

常规 您会在别人 @ 您或回复您时收到通知。

  

[

👕 岂曰无衣？与子同袍 👕️

](https://linux.do/t/topic/585559)

*   推荐
*   相关

### 新话题和未读话题

话题列表，带有按钮的列标题可以排序。
| 话题 | 回复 | 浏览量 | 活动 |
| --- | --- | --- | --- |
| [claude code是唯一真神](/t/topic/734386/118)  [15](/t/topic/734386/118 "您在此话题中有 15 个未读帖子")

[开发调优](/c/develop/4)

[纯水](/tag/纯水),[人工智能](/tag/人工智能)



 | [129](/t/topic/734386/1) | 4.8k | [1 天](/t/topic/734386/132) |
| [通过 API 免费使用 Claude Code 的小教程！](/t/topic/745106/87)  [3](/t/topic/745106/87 "您在此话题中有 3 个未读帖子")

[开发调优](/c/develop/4)

[人工智能](/tag/人工智能),[Prompt](/tag/prompt)



 | [86](/t/topic/745106/1) | 5.9k | [1 天](/t/topic/745106/89) |
| [【Augment】 Augment小技巧之 Rewrite Prompt 有神奇的魔法![](https://linux.do/images/emoji/twemoji/woman_mage.png?v=14)
](/t/topic/772116/44)     [3](/t/topic/772116/44 "您在此话题中有 3 个未读帖子") 

[开发调优](/c/develop/4)

[纯水](/tag/纯水),[人工智能](/tag/人工智能)



 | [45](/t/topic/772116/1) | 1.3k | [5 天](/t/topic/772116/46) |
| [授人以渔 —— 发挥沉浸式翻译「自定义 AI 专家」的全部威能](/t/topic/517192/101)  [10](/t/topic/517192/101 "您在此话题中有 10 个未读帖子")

[开发调优](/c/develop/4)

[人工智能](/tag/人工智能),[配置优化](/tag/配置优化),[沉浸式翻译](/tag/沉浸式翻译)



 | [108](/t/topic/517192/1) | 7.1k | [7 天](/t/topic/517192/110) |
| [实测利用 litellm proxy 组 aistudio GEMINI\_API\_KEY 池可跑 gemini cli](/t/topic/764142/20)  [2](/t/topic/764142/20 "您在此话题中有 2 个未读帖子")

[开发调优](/c/develop/4)

[纯水](/tag/纯水),[人工智能](/tag/人工智能)



 | [20](/t/topic/764142/1) | 473 | [7 天](/t/topic/764142/21) |

### 有 [93 个未读](/unread)话题 和 [195 个新](/new)话题， 或浏览[开发调优](/c/develop/4)中的其他话题

Invalid date Invalid date

↑↓⇔⇧⇩